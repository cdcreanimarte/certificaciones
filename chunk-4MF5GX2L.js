import{b as Be}from"./chunk-S5I6I5C6.js";import{e as K,f as ee,g as W,h as R,i as L,j as Ue,k as y,l as $}from"./chunk-YIEEJNGK.js";import{a as I}from"./chunk-N3O4T7XD.js";import"./chunk-FK6H3RFT.js";import{A as ze,B as Ge,C as We,F as $e,Z as Qe,h as Ie,i as Oe,j as Te,l as Ne,m as Ve,n as Ae,o as Re,p as Le,s as ke,t as He,v as je,y as Ye,z as qe}from"./chunk-BVMUH6OA.js";import"./chunk-2PPFUFFT.js";import"./chunk-UH6WQSDH.js";import{Ba as Fe,h as he,j as d,la as Z,m as Ce,ma as Pe,n as _e,na as Se,p as ve,q as ye,r as Me,s as we,t as be,u as De,v as xe,w as Ee}from"./chunk-42NVM6MY.js";import{Db as _,Fb as J,Gb as z,Hb as G,Ib as n,Jb as r,Kb as x,Ob as oe,Rb as u,Sc as pe,Tb as j,X as ie,Xa as m,Ya as re,Yb as M,Yc as fe,Zb as w,Zc as ge,_b as b,_c as A,ba as P,cc as N,dc as c,eb as T,ec as v,fc as ce,gc as me,hc as se,ja as p,ka as f,lc as le,pc as V,qc as de,rc as Y,ta as H,vb as C,wb as ae,wc as ue,xa as ne,xb as g}from"./chunk-INQ7ZXWM.js";import"./chunk-X5YLR3NI.js";import{i as X}from"./chunk-ODN5LVDJ.js";var k=class o{CERTIFICATE_PREFIX="CDC";HASH_LENGTH=3;RANDOM_LENGTH=2;generateCertificateCode(e,t,i,a){let s=a||new Date,l=s.getFullYear(),D=this.generateYearCode(l),h=this.hashString(e).slice(0,this.HASH_LENGTH),E=this.generateRandomString(this.RANDOM_LENGTH);return{code:`${this.CERTIFICATE_PREFIX}-${D}${h}${E}`,metadata:{generatedAt:s.getTime(),formattedDate:y(s,"dd/MM/yyyy"),validFrom:y(ee(s),"yyyy-MM-dd"),validUntil:y(K(new Date(t,0)),"yyyy-MM-dd"),formattedValidFrom:y(ee(s),"dd/MM/yyyy"),formattedValidUntil:y(K(new Date(t,0)),"dd/MM/yyyy"),studentId:e,courseId:i,yearCode:D,validity:{startYear:l,endYear:t,durationYears:t-l}}}}generateYearCode(e){return y(new Date(e,0),"yy")}generateRandomString(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:e},()=>t.charAt(Math.floor(Math.random()*t.length))).join("")}hashString(e){let t=0;for(let a=0;a<e.length;a++){let s=e.charCodeAt(a);t=(t<<5)-t+s,t=t&t}return Math.abs(t).toString(36).toUpperCase().replace(/[^A-Z0-9]/g,"")}validateCertificateCode(e){return new RegExp(`^${this.CERTIFICATE_PREFIX}-[A-Z0-9]{7}$`).test(e)}decodeCertificateCode(e,t){if(!this.validateCertificateCode(e))return null;try{let[i,a]=e.split("-"),s=a.slice(0,2),l=a.slice(2,5),D=a.slice(5,7),h=parseInt("20"+s),E=new Date(h,0,1),S=new Date(h,11,31),F=!1,O=!1;return t&&(O=this.hashString(t).slice(0,this.HASH_LENGTH)===l,F=O),{isValid:!0,isAuthentic:F,details:{prefix:i,issuedYear:h,validityYears:1,endYear:h,studentHash:l,randomIdentifier:D,dates:{issuedDate:y(E,"dd/MM/yyyy"),expirationDate:y(S,"dd/MM/yyyy")}},verification:{studentIdProvided:!!t,studentIdMatch:O,originalStudentId:O?t:void 0},reconstructedCode:e}}catch(i){return console.error("Error decoding certificate:",i),null}}static \u0275fac=function(t){return new(t||o)};static \u0275prov=ie({token:o,factory:o.\u0275fac,providedIn:"root"})};var q=["Administraci\xF3n de Medicamentos","Aspectos Legales","Ataque con Sustancias Qu\xEDmicas","Atenci\xF3n a Victimas de Violencia Sexual","Cuidado del Donante","Cuidados Paliativos","Humanizaci\xF3n en Salud","Inyectolog\xEDa Intramuscular","Manejo del Duelo","Primeros Auxilios","Protecci\xF3n Radiol\xF3gica","Soporte Vital Avanzado","Soporte Vital B\xE1sico","Sueroterapia","Toma de Citolog\xEDa Cervicouterina","Toma de Muestras de Laboratorio","Toma de Muestras POCT","V\xEDctimas del conflicto armado"];function at(o){let e=o,t=Math.floor(Math.abs(o)),i=o.toString().replace(/^[^.]*\.?/,"").length,a=parseInt(o.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===1?1:a===0&&t!==0&&t%1e6===0&&i===0||!(a>=0&&a<=5)?4:5}var Xe=["es",[["a.\xA0m.","p.\xA0m."],void 0,void 0],void 0,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],["DO","LU","MA","MI","JU","VI","SA"]],void 0,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],void 0,[["a. C.","d. C."],void 0,["antes de Cristo","despu\xE9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:[void 0,"$"],BRL:[void 0,"R$"],BYN:[void 0,"\u0440."],CAD:[void 0,"$"],CNY:[void 0,"\xA5"],EGP:[],ESP:["\u20A7"],GBP:[void 0,"\xA3"],HKD:[void 0,"$"],ILS:[void 0,"\u20AA"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NZD:[void 0,"$"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:[void 0,"NT$"],USD:["US$","$"],XAF:[],XCD:[void 0,"$"],XOF:[]},"ltr",at];var ot={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xEDa",other:"{{count}} d\xEDas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xF1o",other:"alrededor de {{count}} a\xF1os"},xYears:{one:"1 a\xF1o",other:"{{count}} a\xF1os"},overXYears:{one:"m\xE1s de 1 a\xF1o",other:"m\xE1s de {{count}} a\xF1os"},almostXYears:{one:"casi 1 a\xF1o",other:"casi {{count}} a\xF1os"}},Je=(o,e,t)=>{let i,a=ot[o];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+i:"hace "+i:i};var ct={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},mt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},st={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ze={date:W({formats:ct,defaultWidth:"full"}),time:W({formats:mt,defaultWidth:"full"}),dateTime:W({formats:st,defaultWidth:"full"})};var lt={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xF1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},dt={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xF1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Ke=(o,e,t,i)=>e.getHours()!==1?dt[o]:lt[o];var ut={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xE9s de cristo"]},pt={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xBA trimestre","2\xBA trimestre","3\xBA trimestre","4\xBA trimestre"]},ft={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},gt={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xE1"],abbreviated:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],wide:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"]},ht={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},Ct={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},_t=(o,e)=>Number(o)+"\xBA",et={ordinalNumber:_t,era:R({values:ut,defaultWidth:"wide"}),quarter:R({values:pt,defaultWidth:"wide",argumentCallback:o=>Number(o)-1}),month:R({values:ft,defaultWidth:"wide"}),day:R({values:gt,defaultWidth:"wide"}),dayPeriod:R({values:ht,defaultWidth:"wide",formattingValues:Ct,defaultFormattingWidth:"wide"})};var vt=/^(\d+)(º)?/i,yt=/\d+/i,Mt={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},wt={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},bt={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Dt={any:[/1/i,/2/i,/3/i,/4/i]},xt={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Et={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Pt={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},St={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Ft={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},It={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},tt={ordinalNumber:Ue({matchPattern:vt,parsePattern:yt,valueCallback:function(o){return parseInt(o,10)}}),era:L({matchPatterns:Mt,defaultMatchWidth:"wide",parsePatterns:wt,defaultParseWidth:"any"}),quarter:L({matchPatterns:bt,defaultMatchWidth:"wide",parsePatterns:Dt,defaultParseWidth:"any",valueCallback:o=>o+1}),month:L({matchPatterns:xt,defaultMatchWidth:"wide",parsePatterns:Et,defaultParseWidth:"any"}),day:L({matchPatterns:Pt,defaultMatchWidth:"wide",parsePatterns:St,defaultParseWidth:"any"}),dayPeriod:L({matchPatterns:Ft,defaultMatchWidth:"any",parsePatterns:It,defaultParseWidth:"any"})};var it={code:"es",formatDistance:Je,formatLong:Ze,formatRelative:Ke,localize:et,match:tt,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Ot=["nameInput"],Tt=["docInput"],Nt=["placeInput"],Vt=["emailInput"],At=["hoursInput"],Rt=(o,e)=>e.tipo;function Lt(o,e){o&1&&(n(0,"mat-error"),c(1,"El nombre es requerido y debe tener al menos 3 caracteres"),r())}function kt(o,e){if(o&1&&(n(0,"mat-option",17),c(1),r()),o&2){let t=e.$implicit;g("value",t.tipo),m(),v(t.tipo)}}function Ht(o,e){o&1&&(n(0,"mat-error"),c(1,"Seleccione un tipo de documento"),r())}function jt(o,e){if(o&1&&(n(0,"mat-error"),c(1),r()),o&2){let t=j();m(),v(t.getDocumentErrorMessage())}}function Yt(o,e){o&1&&(n(0,"mat-error"),c(1,"El lugar de expedici\xF3n es requerido"),r())}function qt(o,e){o&1&&(n(0,"mat-error"),c(1,"Ingrese un correo electr\xF3nico v\xE1lido"),r())}function zt(o,e){if(o&1&&(n(0,"mat-option",17),c(1),r()),o&2){let t=e.$implicit;g("value",t),m(),v(t)}}function Gt(o,e){if(o&1&&(n(0,"mat-error"),c(1),r()),o&2){let t=j();m(),v(t.getIssueDateErrorMessage())}}function Wt(o,e){if(o&1&&(n(0,"mat-option",17),c(1),r()),o&2){let t=e.$implicit;g("value",t),m(),v(t)}}function $t(o,e){o&1&&(n(0,"mat-error"),c(1,"Seleccione el a\xF1o de validez"),r())}function Qt(o,e){o&1&&(n(0,"mat-error"),c(1,"La cantidad de horas debe ser mayor a 0"),r())}pe(Xe);var Ut={parse:{dateInput:"dd/MM/yyyy"},display:{dateInput:"dd/MM/yyyy",monthYearLabel:"MMM yyyy",dateA11yLabel:"dd/MM/yyyy",monthYearA11yLabel:"MMMM yyyy"}},Q=class o{constructor(e){this._locale=e;this._dateAdapter.setLocale("es-ES")}nameInput;docInput;placeInput;emailInput;hoursInput;isPreviewGenerated=!1;certificateCode="";previewGenerated=new H;downloadRequested=new H;saveRequested=new H;formValueChanged=new H;certificateForm;filteredCourses=q;YEARS_TO_SHOW=5;certificateGenerated=!1;isGenerating=!1;currentDate=new Date;yearSelected=new Date;maxIssueDate=new Date;minIssueDate=new Date;documentTypes=[];selectedDocumentType=null;validityYears=[];certificateMetadata=null;certificate;_fb=P(De);_certificateSrv=P($);_certificateCodeSrv=P(k);_dateAdapter=P(Pe);ngOnInit(){this.initForm(),this.generateValidityYears(),this.loadDocumentTypes(),this.setupDateLimits()}setupDateLimits(){this.maxIssueDate=new Date,this.maxIssueDate.setMonth(this.maxIssueDate.getMonth()+5),this.minIssueDate=new Date,this.minIssueDate.setMonth(this.minIssueDate.getMonth()-5)}initForm(){this.certificateForm=this._fb.group({studentName:["",[d.required,d.minLength(3)]],documentType:["",[d.required]],documentNumber:["",[d.required]],expeditionPlace:["",[d.required,d.minLength(3)]],courseName:["",[d.required,d.minLength(3)]],hours:["",[d.required,d.min(1)]],email:["",[d.required,d.email]],validityYear:["",[d.required]],issueDate:[new Date,[d.required]]}),this.setupFormValidations()}setupFormValidations(){this.certificateForm.get("documentType")?.valueChanges.subscribe(e=>{this.selectedDocumentType=this.documentTypes.find(t=>t.tipo===e)??null,this.updateDocumentValidations()}),this.certificateForm.get("validityYear")?.valueChanges.subscribe(e=>{e&&(this.yearSelected=new Date(parseInt(e),0,1))}),this.certificateForm.get("courseName")?.valueChanges.subscribe(e=>{typeof e=="string"&&!q.includes(e)&&this.filterCourses({target:{value:e}})}),this.certificateForm.get("issueDate")?.valueChanges.subscribe(e=>{if(e){let t=new Date(e);t>this.maxIssueDate?this.certificateForm.get("issueDate")?.setErrors({futureDate:!0}):t<this.minIssueDate&&this.certificateForm.get("issueDate")?.setErrors({pastDate:!0}),this.formValueChanged.emit(this.certificateForm.value)}}),this.certificateForm.valueChanges.subscribe(e=>{this.formValueChanged.emit(e)})}updateDocumentValidations(){if(this.selectedDocumentType)try{let e=this.selectedDocumentType.reglasValidacion.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2":').replace(/'/g,'"').replace(/\s/g,""),t=JSON.parse(e),i=[d.required];t.min&&i.push(d.minLength(t.min)),t.max&&i.push(d.maxLength(t.max)),t.pattern&&i.push(d.pattern(t.pattern)),this.certificateForm.get("documentNumber")?.setValidators(i),this.certificateForm.get("documentNumber")?.updateValueAndValidity()}catch(e){console.error("Error parsing validation rules:",e),this.certificateForm.get("documentNumber")?.setValidators([d.required,d.minLength(3),d.maxLength(20)])}}generateValidityYears(){let e=new Date().getFullYear();this.validityYears=Array.from({length:this.YEARS_TO_SHOW},(t,i)=>e+i+1)}onInputTransform(e,t){let a=e.target.value;switch(t){case"studentName":case"expeditionPlace":a=a.toUpperCase();break;case"email":a=a.toLowerCase();break}this.certificateForm.get(t)?.setValue(a,{emitEvent:!1})}loadDocumentTypes(){this._certificateSrv.getDocumentTypes().subscribe({next:e=>{this.documentTypes=e,console.log(this.documentTypes)},error:e=>{console.error("Error loading document types:",e)}})}filterCourses(e){let t=e.target.value,i=this.certificateForm.get("courseName")?.value;typeof i=="string"&&q.includes(i)&&t!==i&&this.certificateForm.patchValue({courseName:""});let a=t.toLowerCase();this.filteredCourses=q.filter(s=>s.toLowerCase().includes(a))}displayFn(e){return e||""}onCourseSelected(e){let t=document.querySelector('input[formControlName="courseName"]');t&&t.blur()}clearField(e,t){this.certificateForm.get(e)?.reset(),t instanceof ne?t.nativeElement.focus():t.focus()}getDocumentErrorMessage(){let e=this.certificateForm.get("documentNumber");if(!e?.errors)return"";try{let t=this.parseValidationRules(this.selectedDocumentType?.reglasValidacion||"");if(e.errors.required)return"El n\xFAmero de documento es requerido";if(e.errors.minlength)return`El documento debe tener m\xEDnimo ${t.min} caracteres`;if(e.errors.maxlength)return`El documento debe tener m\xE1ximo ${t.max} caracteres`;if(e.errors.pattern)return{"[0-9]+":"Solo se permiten n\xFAmeros","[A-Za-z0-9]+":"Solo se permiten letras y n\xFAmeros","[0-9]{8}":"Debe contener exactamente 8 n\xFAmeros","[0-9]{10}":"Debe contener exactamente 10 n\xFAmeros"}[t.pattern||""]||"Formato de documento inv\xE1lido"}catch{return"Formato de documento inv\xE1lido"}return""}getMaxLength(){if(!this.selectedDocumentType)return null;try{let e=this.selectedDocumentType.reglasValidacion.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2":').replace(/'/g,'"').replace(/\s/g,"");return JSON.parse(e).max||null}catch{return null}}parseValidationRules(e){try{let t=e.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2":').replace(/'/g,'"').replace(/\s/g,"");return JSON.parse(t)}catch(t){return console.error("Error parsing validation rules:",t),{min:3,max:20,pattern:"[0-9]+"}}}generateCertificate(){if(this.certificateForm.invalid)return;let e=this.certificateForm.value,t=this._certificateCodeSrv.generateCertificateCode(e.documentNumber,parseInt(e.validityYear),e.courseName,e.issueDate);this.previewGenerated.emit({formData:e,certCode:t})}downloadCertificate(){this.downloadRequested.emit()}onSubmit(){if(!this.certificateForm.value||!this.certificateCode){I.error("No hay datos del certificado para guardar");return}let e=this.certificateForm.value.issueDate instanceof Date?this.certificateForm.value.issueDate.toISOString():new Date(this.certificateForm.value.issueDate).toISOString(),t={studentName:this.certificateForm.value.studentName,documentType:this.certificateForm.value.documentType,documentNumber:this.certificateForm.value.documentNumber,expeditionPlace:this.certificateForm.value.expeditionPlace,courseName:this.certificateForm.value.courseName,hours:this.certificateForm.value.hours,email:this.certificateForm.value.email,validityYear:this.certificateForm.value.validityYear,code:this.certificateCode,issueDate:e};this.saveRequested.emit(t)}sendEmail(){}decode(){console.log("Decodificando:",this.certificateCode);let e=this.certificateForm.get("documentNumber")?.value;console.log("N\xFAmero de documento:",e);let t=this._certificateSrv.decodeCertificateCode(this.certificateCode,e);t?(console.log("Informaci\xF3n decodificada:",t),t.verification.studentIdMatch?console.log("\xA1El certificado pertenece al estudiante!"):console.log("El certificado NO corresponde al estudiante proporcionado")):console.log("No se pudo decodificar el certificado")}getIssueDateErrorMessage(){let e=this.certificateForm.get("issueDate");return e?.errors?e.errors.required?"La fecha de emisi\xF3n es requerida":e.errors.futureDate?"La fecha no puede exceder los 5 meses desde hoy":e.errors.pastDate?"La fecha no puede ser anterior a 5 meses desde hoy":"":""}formatDate(e){return y(e,"dd/MM/yyyy",{locale:it})}get currentFormattedDate(){return this.formatDate(new Date)}onDateChange(e){if(e&&e.value){let t=this.formatDate(e.value);console.log("Fecha formateada:",t)}}static \u0275fac=function(t){return new(t||o)(re(Z))};static \u0275cmp=T({type:o,selectors:[["app-certificate-form"]],viewQuery:function(t,i){if(t&1&&(M(Ot,5),M(Tt,5),M(Nt,5),M(Vt,5),M(At,5)),t&2){let a;w(a=b())&&(i.nameInput=a.first),w(a=b())&&(i.docInput=a.first),w(a=b())&&(i.placeInput=a.first),w(a=b())&&(i.emailInput=a.first),w(a=b())&&(i.hoursInput=a.first)}},inputs:{isPreviewGenerated:"isPreviewGenerated",certificateCode:"certificateCode"},outputs:{previewGenerated:"previewGenerated",downloadRequested:"downloadRequested",saveRequested:"saveRequested",formValueChanged:"formValueChanged"},features:[le([{provide:ue,useValue:"es"},{provide:Z,useValue:"es-ES"},{provide:Se,useValue:Ut}])],decls:103,vars:19,consts:[["nameInput",""],["placeInput",""],["emailInput",""],["courseInput",""],["auto","matAutocomplete"],["issueDatePicker",""],[1,"certificate"],[1,"certificate__content"],[1,"certificate__form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row","full-width"],["appearance","fill",1,"certificate__field"],["matInput","","formControlName","studentName",3,"input"],["mat-icon-button","","matSuffix","",3,"click"],[1,"form-row","two-columns"],["formControlName","documentType"],[3,"value"],["matInput","","formControlName","documentNumber"],["matInput","","formControlName","expeditionPlace",3,"input"],["matInput","","type","email","formControlName","email",3,"input"],["type","text","matInput","","formControlName","courseName",3,"input","matAutocomplete"],[3,"optionSelected","displayWith"],["matInput","","formControlName","issueDate","placeholder","DD/MM/AAAA",3,"dateChange","matDatepicker","min","max"],["matIconSuffix","",3,"for"],["startView","month"],["formControlName","validityYear"],["matInput","","type","number","formControlName","hours","min","1"],[1,"certificate__actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","button",3,"click","disabled"]],template:function(t,i){if(t&1){let a=oe();n(0,"mat-card",6)(1,"mat-card-content",7)(2,"form",8),u("ngSubmit",function(){return p(a),f(i.generateCertificate())}),n(3,"div",9)(4,"h3",10),c(5,"Datos del Estudiante"),r(),n(6,"div",11)(7,"mat-form-field",12)(8,"mat-label"),c(9,"Nombre del Estudiante"),r(),n(10,"input",13,0),u("input",function(l){return p(a),f(i.onInputTransform(l,"studentName"))}),r(),n(12,"button",14),u("click",function(){p(a);let l=N(11);return f(i.clearField("studentName",l))}),n(13,"mat-icon"),c(14,"close"),r()(),C(15,Lt,2,0,"mat-error"),r()(),n(16,"div",15)(17,"mat-form-field",12)(18,"mat-label"),c(19,"Tipo de Documento"),r(),n(20,"mat-select",16),z(21,kt,2,2,"mat-option",17,Rt),r(),C(23,Ht,2,0,"mat-error"),r(),n(24,"mat-form-field",12)(25,"mat-label"),c(26,"N\xFAmero de Documento"),r(),x(27,"input",18),n(28,"button",14),u("click",function(){return p(a),f(i.clearField("documentNumber",i.docInput))}),n(29,"mat-icon"),c(30,"close"),r()(),C(31,jt,2,1,"mat-error"),r()(),n(32,"div",15)(33,"mat-form-field",12)(34,"mat-label"),c(35,"Lugar de Expedici\xF3n"),r(),n(36,"input",19,1),u("input",function(l){return p(a),f(i.onInputTransform(l,"expeditionPlace"))}),r(),n(38,"button",14),u("click",function(){p(a);let l=N(37);return f(i.clearField("expeditionPlace",l))}),n(39,"mat-icon"),c(40,"close"),r()(),C(41,Yt,2,0,"mat-error"),r(),n(42,"mat-form-field",12)(43,"mat-label"),c(44,"Correo Electr\xF3nico"),r(),n(45,"input",20,2),u("input",function(l){return p(a),f(i.onInputTransform(l,"email"))}),r(),n(47,"button",14),u("click",function(){p(a);let l=N(46);return f(i.clearField("email",l))}),n(48,"mat-icon"),c(49,"close"),r()(),C(50,qt,2,0,"mat-error"),r()()(),n(51,"div",9)(52,"h3",10),c(53,"Datos del Curso"),r(),n(54,"div",15)(55,"mat-form-field",12)(56,"mat-label"),c(57,"Nombre del Curso"),r(),n(58,"input",21,3),u("input",function(l){return p(a),f(i.filterCourses(l))}),r(),n(60,"mat-autocomplete",22,4),u("optionSelected",function(l){return p(a),f(i.onCourseSelected(l))}),z(62,zt,2,2,"mat-option",17,J),r()(),n(64,"mat-form-field",12)(65,"mat-label"),c(66,"Fecha de Emisi\xF3n"),r(),n(67,"input",23),u("dateChange",function(l){return p(a),f(i.onDateChange(l))}),r(),n(68,"mat-hint"),c(69,"Formato: d\xEDa/mes/a\xF1o"),r(),x(70,"mat-datepicker-toggle",24)(71,"mat-datepicker",25,5),C(73,Gt,2,1,"mat-error"),r()(),n(74,"div",15)(75,"mat-form-field",12)(76,"mat-label"),c(77,"V\xE1lido hasta el a\xF1o"),r(),n(78,"mat-select",26),z(79,Wt,2,2,"mat-option",17,J),r(),C(81,$t,2,0,"mat-error"),r(),n(82,"mat-form-field",12)(83,"mat-label"),c(84,"Cantidad de Horas"),r(),x(85,"input",27),n(86,"button",14),u("click",function(){return p(a),f(i.clearField("hours",i.hoursInput))}),n(87,"mat-icon"),c(88,"close"),r()(),C(89,Qt,2,0,"mat-error"),r()()(),n(90,"div",28)(91,"button",29)(92,"mat-icon"),c(93,"assignment"),r(),c(94," Previsualizar "),r(),n(95,"button",30),u("click",function(){return p(a),f(i.onSubmit())}),n(96,"mat-icon"),c(97,"save"),r(),c(98," Guardar "),r(),n(99,"button",30),u("click",function(){return p(a),f(i.downloadCertificate())}),n(100,"mat-icon"),c(101,"download"),r(),c(102," Descargar "),r()()()()()}if(t&2){let a,s,l,D,h,E,S,F,O=N(61),B=N(72);m(2),g("formGroup",i.certificateForm),m(13),_((a=i.certificateForm.get("studentName"))!=null&&a.touched&&((a=i.certificateForm.get("studentName"))!=null&&a.errors)?15:-1),m(6),G(i.documentTypes),m(2),_((s=i.certificateForm.get("documentType"))!=null&&s.touched&&((s=i.certificateForm.get("documentType"))!=null&&s.errors)?23:-1),m(4),ae("maxlength",i.getMaxLength()),m(4),_((l=i.certificateForm.get("documentNumber"))!=null&&l.touched&&((l=i.certificateForm.get("documentNumber"))!=null&&l.errors)?31:-1),m(10),_((D=i.certificateForm.get("expeditionPlace"))!=null&&D.touched&&((D=i.certificateForm.get("expeditionPlace"))!=null&&D.errors)?41:-1),m(9),_((h=i.certificateForm.get("email"))!=null&&h.touched&&((h=i.certificateForm.get("email"))!=null&&h.errors)?50:-1),m(8),g("matAutocomplete",O),m(2),g("displayWith",i.displayFn),m(2),G(i.filteredCourses),m(5),g("matDatepicker",B)("min",i.minIssueDate)("max",i.maxIssueDate),m(3),g("for",B),m(3),_((E=i.certificateForm.get("issueDate"))!=null&&E.touched&&((E=i.certificateForm.get("issueDate"))!=null&&E.errors)?73:-1),m(6),G(i.validityYears),m(2),_((S=i.certificateForm.get("validityYear"))!=null&&S.touched&&((S=i.certificateForm.get("validityYear"))!=null&&S.errors)?81:-1),m(8),_((F=i.certificateForm.get("hours"))!=null&&F.touched&&((F=i.certificateForm.get("hours"))!=null&&F.errors)?89:-1),m(2),g("disabled",!i.certificateForm.valid),m(4),g("disabled",!i.certificateForm.valid||!i.certificateCode),m(4),g("disabled",!i.certificateForm.valid||!i.certificateCode)}},dependencies:[A,Ee,ve,he,ye,Ce,_e,be,Me,we,xe,Qe,Ae,Fe,Re,Le,ke,He,je,qe,ze,Ge,Ve,Ie,Te,Oe,Ne,We,Ye,$e],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   .certificate[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .certificate__content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .certificate__form[_ngcontent-%COMP%]{flex:1;overflow:auto}.form-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;width:100%}.form-section[_ngcontent-%COMP%]:last-of-type{margin-bottom:1rem}.section-title[_ngcontent-%COMP%]{color:#2c3e50;font-size:1rem;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid rgba(44,62,80,.1)}.form-row[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%}.form-row.two-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}@media (max-width: 768px){.form-row.two-columns[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.form-row.full-width[_ngcontent-%COMP%]{width:100%}.certificate[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;overflow-y:auto;overflow-x:hidden;max-height:100vh}.certificate[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.certificate__actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem;padding-bottom:1.5rem;justify-content:center;flex-wrap:wrap;width:100%}@media (max-width: 768px){.certificate__actions[_ngcontent-%COMP%]{flex-direction:column;width:100%;gap:.75rem}}.certificate__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;height:44px;padding:0 24px;min-width:200px;margin:0 .5rem}@media (max-width: 768px){.certificate__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0}}.certificate__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;margin-right:8px}.certificate__form[_ngcontent-%COMP%], .certificate__content[_ngcontent-%COMP%]{padding:1rem}  .mat-mdc-card{border-radius:8px;box-shadow:0 1px 3px #0000001a!important}  .mat-mdc-form-field{width:100%}  .mat-mdc-text-field-wrapper{padding-top:0;padding-bottom:0}  .mat-mdc-form-field-flex{min-height:48px!important}  .mat-mdc-form-field-infix{padding:30px 0 5px!important;min-height:48px!important}  .mdc-text-field--filled .mdc-floating-label{top:10px;transform:translateY(0)!important}  .mdc-text-field--filled.mdc-text-field--focused .mdc-floating-label,   .mdc-text-field--filled .mdc-floating-label--float-above{top:10px;transform:translateY(-10px) scale(.75)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:#4a5568cc}  .mat-mdc-raised-button{border-radius:8px}  .mat-form-field-suffix .mat-icon-button{width:24px;height:24px;line-height:24px}  .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:18px;line-height:18px;height:18px;width:18px;color:#4a556880;transition:color .3s ease}  .mat-form-field-suffix .mat-icon-button .mat-icon:hover{color:#4a5568}"]})};var Bt=["certificateElement"],U=class o{certificateElement;formData;currentDate=new Date;yearSelected=new Date;certificateCode="";getCertificateElement(){return this.certificateElement.nativeElement}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=T({type:o,selectors:[["app-certificate-preview"]],viewQuery:function(t,i){if(t&1&&M(Bt,5),t&2){let a;w(a=b())&&(i.certificateElement=a.first)}},inputs:{formData:"formData",currentDate:"currentDate",yearSelected:"yearSelected",certificateCode:"certificateCode"},decls:52,vars:24,consts:[["certificateElement",""],[1,"certificate-preview"],[1,"certificate-preview__content"],[1,"content-wrapper"],[1,"title-group"],[1,"title"],[1,"company-info"],[1,"student-group"],[1,"student-name"],[1,"id-info"],[1,"course-info"],[1,"course-name"],[1,"signatures"],[1,"representante"],["src","images/fir_rep_legal.jpg","alt","Firma"],[1,"director"],["src","images/fir_dir_general.jpg","alt","Firma"],[1,"verification-info"],["href","https://cdcreanimarte.github.io/certificaciones/"]],template:function(t,i){t&1&&(n(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),c(6,"DE ASISTENCIA SEG\xDAN RESOLUCI\xD3N 3100 DE 2019"),r(),n(7,"div",6),c(8,"NIT 9012123811 CDCREANIMARTE"),r()(),n(9,"div",7)(10,"h2",8),c(11),r(),n(12,"div",9),c(13),V(14,"mask"),V(15,"uppercase"),r()(),n(16,"div",10)(17,"div"),c(18,"Asisti\xF3 y aprob\xF3 el curso"),r(),n(19,"div",11),c(20),r(),n(21,"div"),c(22),r()(),n(23,"div",12)(24,"div",13),x(25,"img",14),n(26,"div"),c(27,"Representante Legal"),r()(),n(28,"div",15),x(29,"img",16),n(30,"div"),c(31,"Director General"),r()()(),n(32,"div",17)(33,"p"),c(34,"Emitido: "),n(35,"span"),c(36),V(37,"date"),r()(),n(38,"p"),c(39,"Vigencia: "),n(40,"span"),c(41),V(42,"date"),V(43,"date"),r()(),n(44,"p"),c(45,"C\xF3digo: "),n(46,"span"),c(47),r()(),n(48,"p"),c(49,"Verificar: "),n(50,"a",18),c(51,"https://cdcreanimarte.github.io/certificaciones"),r()()()()()()),t&2&&(m(11),v(i.formData==null?null:i.formData.studentName),m(2),se(" IDENTIFICADO CON ",i.formData==null?null:i.formData.documentType,": ",Y(14,10,i.formData==null?null:i.formData.documentNumber,"separator.2")," DE ",de(15,13,i.formData==null?null:i.formData.expeditionPlace)," "),m(7),v(i.formData==null?null:i.formData.courseName),m(2),ce("con una intensidad de ",i.formData==null?null:i.formData.hours," horas."),m(14),v(Y(37,15,i.formData==null?null:i.formData.issueDate,"dd/MM/yyyy")),m(5),me("",Y(42,18,i.formData==null?null:i.formData.issueDate,"yyyy")," - ",Y(43,21,i.yearSelected,"yyyy")," "),m(6),v(i.certificateCode))},dependencies:[A,fe,ge,Be],styles:['[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.certificate-preview[_ngcontent-%COMP%]{width:297mm;height:210mm;margin:0 auto;background:#fff;position:relative;transform-origin:top left;-webkit-print-color-adjust:exact;print-color-adjust:exact;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden;padding:1rem}@media (max-width: 1200px){.certificate-preview[_ngcontent-%COMP%]{margin-top:1rem;height:auto;transform:scale(1)}}@media (max-width: 768px){.certificate-preview[_ngcontent-%COMP%]{transform:scale(1)}}@media print{.certificate-preview[_ngcontent-%COMP%]{transform:scale(.3)!important;width:100%;border:none}}.certificate-preview__content[_ngcontent-%COMP%]{width:279.4mm;height:215.9mm;position:relative;background-color:#fff;overflow:hidden;display:grid;grid-template-columns:192px 1fr;margin:0 0 0 35px}.certificate-preview__content[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:10px 0 35px;background:url("./media/template-certificado-F7EXEJCB.png") center/100% 100% no-repeat;z-index:1;background-size:cover}@media (max-width: 1200px){.certificate-preview__content[_ngcontent-%COMP%]{transform:none}}@media (max-width: 768px){.certificate-preview__content[_ngcontent-%COMP%]{transform:none}}.content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:2;grid-column:2;width:100%;margin-top:110px;display:flex;flex-direction:column;align-items:center;text-align:center;padding:2.54cm 1.5cm;margin-left:-372px}.title-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.title-group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#2c3e50;text-transform:uppercase;margin-top:52px;margin-bottom:.5rem;letter-spacing:.5px}.title-group[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#2c3e50}.student-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.student-group[_ngcontent-%COMP%]   .student-name[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#2c3e50;text-transform:uppercase;margin-bottom:.5rem;letter-spacing:.5px}.student-group[_ngcontent-%COMP%]   .id-info[_ngcontent-%COMP%]{font-size:18px;color:#2c3e50;line-height:1.4}.course-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.course-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:18px;color:#2c3e50;line-height:1.4}.course-info[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#2c3e50;margin:.5rem 0}.signatures[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;z-index:2}.signatures[_ngcontent-%COMP%]   .representante[_ngcontent-%COMP%], .signatures[_ngcontent-%COMP%]   .director[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:0 2rem}.signatures[_ngcontent-%COMP%]   .representante[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .signatures[_ngcontent-%COMP%]   .director[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain}.signatures[_ngcontent-%COMP%]   .representante[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .signatures[_ngcontent-%COMP%]   .director[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:16px;color:#2c3e50;font-weight:600}.verification-info[_ngcontent-%COMP%]{width:100%;text-align:left;margin-top:auto;margin-left:16rem;padding-top:1.5rem}.verification-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 .5px;font-size:15px;color:#2c3e50b3;line-height:1.2}.verification-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.verification-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;color:#4a90e2;text-decoration:none;transition:color .3s ease}.verification-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media print{.certificate-preview[_ngcontent-%COMP%]{position:relative;width:100%;border:none}.certificate-preview__content[_ngcontent-%COMP%]{font-size:10pt;page-break-after:always}}']})};var Xt=["certificateElement"];function Jt(o,e){if(o&1&&(n(0,"div",3),x(1,"app-certificate-preview",4,0),r()),o&2){let t=j();m(),g("formData",t.certificateData)("currentDate",t.currentDate)("yearSelected",t.yearSelected)("certificateCode",t.certificateCode)}}var rt=class o{certificateElement;certificateGenerated=!1;certificateData=null;currentDate=new Date;yearSelected=new Date;certificateCode="";isGenerating=!1;_certificateSrv=P($);_certificateCodeSrv=P(k);onFormValueChanged(e){if(this.certificateData=e,e.issueDate&&(this.currentDate=new Date(e.issueDate)),this.certificateGenerated){let t=this._certificateCodeSrv.generateCertificateCode(e.documentNumber,parseInt(e.validityYear),e.courseName,e.issueDate);this.certificateCode=t.code}}onPreviewGenerated(e){let{formData:t,certCode:i}=e;this.certificateData=t,this.certificateCode=i.code,this.yearSelected=new Date(parseInt(t.validityYear),0,1),t.issueDate&&(this.currentDate=new Date(t.issueDate)),this.certificateGenerated=!0}onDownloadRequested(){return X(this,null,function*(){if(!(!this.certificateGenerated||this.isGenerating))try{this.isGenerating=!0;let e=yield this._certificateSrv.generatePDF(this.certificateData,this.currentDate,this.yearSelected,this.certificateCode),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=`Certificado_${this.certificateData.studentName}.pdf`,i.click(),window.URL.revokeObjectURL(t)}catch(e){console.error("Error en el proceso del certificado:",e),I.error("Error al procesar el certificado")}finally{this.isGenerating=!1}})}onSaveRequested(e){return X(this,null,function*(){if(!e){I.error("No hay datos del certificado para guardar");return}try{yield this._certificateSrv.add(e),I.success("Certificado guardado exitosamente")}catch(t){console.error("Error al guardar el certificado:",t),I.error("El certificado no pudo ser guardado")}})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=T({type:o,selectors:[["app-certificate-container"]],viewQuery:function(t,i){if(t&1&&M(Xt,5),t&2){let a;w(a=b())&&(i.certificateElement=a.first)}},decls:3,vars:3,consts:[["certificateElement",""],[1,"page-container"],[3,"previewGenerated","formValueChanged","downloadRequested","saveRequested","isPreviewGenerated","certificateCode"],[1,"preview-container"],[3,"formData","currentDate","yearSelected","certificateCode"]],template:function(t,i){t&1&&(n(0,"div",1)(1,"app-certificate-form",2),u("previewGenerated",function(s){return i.onPreviewGenerated(s)})("formValueChanged",function(s){return i.onFormValueChanged(s)})("downloadRequested",function(){return i.onDownloadRequested()})("saveRequested",function(s){return i.onSaveRequested(s)}),r(),C(2,Jt,3,4,"div",3),r()),t&2&&(m(),g("isPreviewGenerated",i.certificateGenerated)("certificateCode",i.certificateCode),m(),_(i.certificateGenerated?2:-1))},dependencies:[A,Q,U],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:minmax(600px,650px) 1fr;gap:1.5rem;height:100vh;background:#f5f7fa;max-height:100vh;overflow:hidden}@media (max-width: 1400px){[_nghost-%COMP%]{grid-template-columns:1fr;height:auto;max-height:none}}.preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;width:100%;height:100%;overflow:auto;padding:1rem;background:#f5f5f5}@media (max-width: 1200px){.preview-container[_ngcontent-%COMP%]{padding:.5rem}}"]})};export{rt as CertificateContainerComponent};
