import{a as Ro,b as Po,d as Co}from"./chunk-USRT3PLD.js";import{a as Oo}from"./chunk-FSNMDOWA.js";import{Fa as ko,Ha as No,b as Ao,c as bo,d as So,i as Do}from"./chunk-J5ITEULD.js";import{$ as vn,Aa as se,Bc as wo,Ia as ho,Ja as fo,La as po,Nb as yo,Qc as To,Z as kr,bb as mo,c as Ft,ca as ke,fa as Y,fb as go,ga as ie,i as ao,ia as Ne,ib as _o,j as co,l as Pr,la as En,m as Cr,ma as uo,n as Dr,ua as le,wa as lo,wc as Io,xc as vo,ya as wn,zc as Eo}from"./chunk-UORU4LUB.js";import"./chunk-E4ERW3Q5.js";import{a as Sr,b as Rr,i as De,j as w}from"./chunk-4ZZIO3ZI.js";var xo=(r,e)=>w(void 0,null,function*(){let n=Y(Po),i=Y(Do),{data:o}=yield i.session();return console.log(o),o.session||n.navigate(["/"]),!!o.session});var Vo=[{path:"",loadComponent:()=>import("./chunk-CRYZ6A76.js").then(r=>r.CertificateValidateComponent)},{canActivateChild:[xo],path:"administration",loadChildren:()=>import("./chunk-DA6PMPS4.js").then(r=>r.certificateRoutes)},{path:"**",redirectTo:""}];var uu="@",lu=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=Y(lo,{optional:!0});loadingSchedulerFn=Y(hu,{optional:!0});_engine;constructor(n,i,o,c,l){this.doc=n,this.delegate=i,this.zone=o,this.animationType=c,this.moduleImpl=l}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-AIXOMKPZ.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(n):i=n(),i.catch(o=>{throw new kr(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:c})=>{this._engine=o(this.animationType,this.doc);let l=new c(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(n,i){let o=this.delegate.createRenderer(n,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let c=new Nr(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let p=l.createRenderer(n,i);c.use(p),this.scheduler?.notify(11)}).catch(l=>{c.use(o)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(i){mo()};static \u0275prov=vn({token:r,factory:r.\u0275fac})}return r})(),Nr=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,o){this.delegate.insertBefore(e,n,i,o)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,o){this.delegate.setAttribute(e,n,i,o)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,o){this.delegate.setStyle(e,n,i,o)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(o=>o.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(o=>o.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(uu)}},hu=new ke("");function Mo(r="animations"){return po("NgAsyncAnimations"),Ne([{provide:go,useFactory:(e,n,i)=>new lu(e,n,i,r),deps:[To,bo,se]},{provide:fo,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Uo=function(r){let e=[],n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},du=function(r){let e=[],n=0,i=0;for(;n<r.length;){let o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){let c=r[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){let c=r[n++],l=r[n++],p=r[n++],v=((o&7)<<18|(c&63)<<12|(l&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(v>>10)),e[i++]=String.fromCharCode(56320+(v&1023))}else{let c=r[n++],l=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|l&63)}}return e.join("")},Bo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){let c=r[o],l=o+1<r.length,p=l?r[o+1]:0,v=o+2<r.length,T=v?r[o+2]:0,b=c>>2,C=(c&3)<<4|p>>4,R=(p&15)<<2|T>>6,M=T&63;v||(M=64,l||(R=64)),i.push(n[b],n[C],n[R],n[M])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Uo(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):du(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){let c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;let T=o<r.length?n[r.charAt(o)]:64;++o;let C=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||T==null||C==null)throw new xr;let R=c<<2|p>>4;if(i.push(R),T!==64){let M=p<<4&240|T>>2;if(i.push(M),C!==64){let D=T<<6&192|C;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},xr=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fu=function(r){let e=Uo(r);return Bo.encodeByteArray(e,!0)},Ut=function(r){return fu(r).replace(/\./g,"")},Lr=function(r){try{return Bo.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mu=()=>pu().__FIREBASE_DEFAULTS__,gu=()=>{if(typeof process>"u"||typeof process.env>"u")return;let r=process.env.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_u=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=r&&Lr(r[1]);return e&&JSON.parse(e)},Mr=()=>{try{return mu()||gu()||_u()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Fr=r=>{var e,n;return(n=(e=Mr())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},qo=r=>{let e=Fr(r);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ur=()=>{var r;return(r=Mr())===null||r===void 0?void 0:r.config},Br=r=>{var e;return(e=Mr())===null||e===void 0?void 0:e[`_${r}`]};var Tn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function $o(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ut(JSON.stringify(n)),Ut(JSON.stringify(l)),""].join(".")}function q(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function zo(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Go(){let r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wo(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ko(){let r=q();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qr(){try{return typeof indexedDB=="object"}catch{return!1}}function Ho(){return new Promise((r,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}var yu="FirebaseError",re=class r extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=yu,Object.setPrototypeOf(this,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ie.prototype.create)}},Ie=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],l=c?Iu(c,i):"Error",p=`${this.serviceName}: ${l} (${o}).`;return new re(o,p,i)}};function Iu(r,e){return r.replace(vu,(n,i)=>{let o=e[i];return o!=null?String(o):`<${i}?>`})}var vu=/\{\$([^}]+)}/g;function Qo(r){for(let e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ke(r,e){if(r===e)return!0;let n=Object.keys(r),i=Object.keys(e);for(let o of n){if(!i.includes(o))return!1;let c=r[o],l=e[o];if(Fo(c)&&Fo(l)){if(!Ke(c,l))return!1}else if(c!==l)return!1}for(let o of i)if(!n.includes(o))return!1;return!0}function Fo(r){return r!==null&&typeof r=="object"}function Bt(r){let e=[];for(let[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Jo(r,e){let n=new Vr(r,e);return n.subscribe.bind(n)}var Vr=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Eu(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Or),o.error===void 0&&(o.error=Or),o.complete===void 0&&(o.complete=Or);let c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Eu(r,e){if(typeof r!="object"||r===null)return!1;for(let n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Or(){}var $f=4*60*60*1e3;function Oe(r){return r&&r._delegate?r._delegate:r}var oe=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var He="[DEFAULT]";var $r=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new Tn;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tu(e))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(n);try{let c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=He){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=He){return this.instances.has(e)}getOptions(e=He){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[c,l]of this.instancesDeferred.entries()){let p=this.normalizeInstanceIdentifier(c);i===p&&l.resolve(o)}return o}onInit(e,n){var i;let o=this.normalizeInstanceIdentifier(n),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(o,c);let l=this.instances.get(o);return l&&e(l,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wu(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=He){return this.component?this.component.multipleInstances?e:He:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wu(r){return r===He?void 0:r}function Tu(r){return r.instantiationMode==="EAGER"}var An=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new $r(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Au=[],N=function(r){return r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT",r}(N||{}),bu={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},Su=N.INFO,Ru={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},Pu=(r,e,...n)=>{if(e<r.logLevel)return;let i=new Date().toISOString(),o=Ru[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xe=class{constructor(e){this.name=e,this._logLevel=Su,this._logHandler=Pu,this._userLogHandler=null,Au.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in N))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...e),this._logHandler(this,N.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...e),this._logHandler(this,N.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,N.INFO,...e),this._logHandler(this,N.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,N.WARN,...e),this._logHandler(this,N.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...e),this._logHandler(this,N.ERROR,...e)}};var Cu=(r,e)=>e.some(n=>r instanceof n),Yo,Xo;function Du(){return Yo||(Yo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ku(){return Xo||(Xo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Zo=new WeakMap,zr=new WeakMap,ea=new WeakMap,jr=new WeakMap,Wr=new WeakMap;function Nu(r){let e=new Promise((n,i)=>{let o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",l)},c=()=>{n(he(r.result)),o()},l=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Zo.set(n,r)}).catch(()=>{}),Wr.set(e,r),e}function Ou(r){if(zr.has(r))return;let e=new Promise((n,i)=>{let o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",l),r.removeEventListener("abort",l)},c=()=>{n(),o()},l=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",l),r.addEventListener("abort",l)});zr.set(r,e)}var Gr={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return zr.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ea.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return he(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ta(r){Gr=r(Gr)}function xu(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=r.call(bn(this),e,...n);return ea.set(i,e.sort?e.sort():[e]),he(i)}:ku().includes(r)?function(...e){return r.apply(bn(this),e),he(Zo.get(this))}:function(...e){return he(r.apply(bn(this),e))}}function Vu(r){return typeof r=="function"?xu(r):(r instanceof IDBTransaction&&Ou(r),Cu(r,Du())?new Proxy(r,Gr):r)}function he(r){if(r instanceof IDBRequest)return Nu(r);if(jr.has(r))return jr.get(r);let e=Vu(r);return e!==r&&(jr.set(r,e),Wr.set(e,r)),e}var bn=r=>Wr.get(r);function ra(r,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){let l=indexedDB.open(r,e),p=he(l);return i&&l.addEventListener("upgradeneeded",v=>{i(he(l.result),v.oldVersion,v.newVersion,he(l.transaction),v)}),n&&l.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",T=>o(T.oldVersion,T.newVersion,T))}).catch(()=>{}),p}var Lu=["get","getKey","getAll","getAllKeys","count"],Mu=["put","add","delete","clear"],Kr=new Map;function na(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Kr.get(e))return Kr.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,o=Mu.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Lu.includes(n)))return;let c=function(l,...p){return w(this,null,function*(){let v=this.transaction(l,o?"readwrite":"readonly"),T=v.store;return i&&(T=T.index(p.shift())),(yield Promise.all([T[n](...p),o&&v.done]))[0]})};return Kr.set(e,c),c}ta(r=>Rr(Sr({},r),{get:(e,n,i)=>na(e,n)||r.get(e,n,i),has:(e,n)=>!!na(e,n)||r.has(e,n)}));var Qr=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fu(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Fu(r){let e=r.getComponent();return e?.type==="VERSION"}var Jr="@firebase/app",ia="0.10.17";var ve=new xe("@firebase/app"),Uu="@firebase/app-compat",Bu="@firebase/analytics-compat",qu="@firebase/analytics",$u="@firebase/app-check-compat",ju="@firebase/app-check",zu="@firebase/auth",Gu="@firebase/auth-compat",Wu="@firebase/database",Ku="@firebase/data-connect",Hu="@firebase/database-compat",Qu="@firebase/functions",Ju="@firebase/functions-compat",Yu="@firebase/installations",Xu="@firebase/installations-compat",Zu="@firebase/messaging",el="@firebase/messaging-compat",tl="@firebase/performance",nl="@firebase/performance-compat",rl="@firebase/remote-config",il="@firebase/remote-config-compat",sl="@firebase/storage",ol="@firebase/storage-compat",al="@firebase/firestore",cl="@firebase/vertexai",ul="@firebase/firestore-compat",ll="firebase",hl="11.1.0";var Yr="[DEFAULT]",dl={[Jr]:"fire-core",[Uu]:"fire-core-compat",[qu]:"fire-analytics",[Bu]:"fire-analytics-compat",[ju]:"fire-app-check",[$u]:"fire-app-check-compat",[zu]:"fire-auth",[Gu]:"fire-auth-compat",[Wu]:"fire-rtdb",[Ku]:"fire-data-connect",[Hu]:"fire-rtdb-compat",[Qu]:"fire-fn",[Ju]:"fire-fn-compat",[Yu]:"fire-iid",[Xu]:"fire-iid-compat",[Zu]:"fire-fcm",[el]:"fire-fcm-compat",[tl]:"fire-perf",[nl]:"fire-perf-compat",[rl]:"fire-rc",[il]:"fire-rc-compat",[sl]:"fire-gcs",[ol]:"fire-gcs-compat",[al]:"fire-fst",[ul]:"fire-fst-compat",[cl]:"fire-vertex","fire-js":"fire-js",[ll]:"fire-js-all"};var qt=new Map,fl=new Map,Xr=new Map;function sa(r,e){try{r.container.addComponent(e)}catch(n){ve.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Le(r){let e=r.name;if(Xr.has(e))return ve.debug(`There were multiple attempts to register component ${e}.`),!1;Xr.set(e,r);for(let n of qt.values())sa(n,r);for(let n of fl.values())sa(n,r);return!0}function jt(r,e){let n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ee(r){return r.settings!==void 0}var pl={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ve=new Ie("app","Firebase",pl);var Zr=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ve.create("app-deleted",{appName:this._name})}};var Me=hl;function ni(r,e={}){let n=r;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Yr,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ve.create("bad-app-name",{appName:String(o)});if(n||(n=Ur()),!n)throw Ve.create("no-options");let c=qt.get(o);if(c){if(Ke(n,c.options)&&Ke(i,c.config))return c;throw Ve.create("duplicate-app",{appName:o})}let l=new An(o);for(let v of Xr.values())l.addComponent(v);let p=new Zr(n,i,l);return qt.set(o,p),p}function lt(r=Yr){let e=qt.get(r);if(!e&&r===Yr&&Ur())return ni();if(!e)throw Ve.create("no-app",{appName:r});return e}function Sn(){return Array.from(qt.values())}function U(r,e,n){var i;let o=(i=dl[r])!==null&&i!==void 0?i:r;n&&(o+=`-${n}`);let c=o.match(/\s|\//),l=e.match(/\s|\//);if(c||l){let p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&l&&p.push("and"),l&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ve.warn(p.join(" "));return}Le(new oe(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}var ml="firebase-heartbeat-database",gl=1,$t="firebase-heartbeat-store",Hr=null;function ua(){return Hr||(Hr=ra(ml,gl,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($t)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ve.create("idb-open",{originalErrorMessage:r.message})})),Hr}function _l(r){return w(this,null,function*(){try{let n=(yield ua()).transaction($t),i=yield n.objectStore($t).get(la(r));return yield n.done,i}catch(e){if(e instanceof re)ve.warn(e.message);else{let n=Ve.create("idb-get",{originalErrorMessage:e?.message});ve.warn(n.message)}}})}function oa(r,e){return w(this,null,function*(){try{let i=(yield ua()).transaction($t,"readwrite");yield i.objectStore($t).put(e,la(r)),yield i.done}catch(n){if(n instanceof re)ve.warn(n.message);else{let i=Ve.create("idb-set",{originalErrorMessage:n?.message});ve.warn(i.message)}}})}function la(r){return`${r.name}!${r.options.appId}`}var yl=1024,Il=30*24*60*60*1e3,ei=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ti(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=aa();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(l=>l.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{let p=new Date(l.date).valueOf();return Date.now()-p<=Il}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ve.warn(i)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aa(),{heartbeatsToSend:i,unsentEntries:o}=vl(this._heartbeatsCache.heartbeats),c=Ut(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ve.warn(n),""}})}};function aa(){return new Date().toISOString().substring(0,10)}function vl(r,e=yl){let n=[],i=r.slice();for(let o of r){let c=n.find(l=>l.agent===o.agent);if(c){if(c.dates.push(o.date),ca(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ca(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var ti=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return qr()?Ho().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield _l(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return oa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return oa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}};function ca(r){return Ut(JSON.stringify({version:2,heartbeats:r})).length}function El(r){Le(new oe("platform-logger",e=>new Qr(e),"PRIVATE")),Le(new oe("heartbeat",e=>new ei(e),"PRIVATE")),U(Jr,ia,r),U(Jr,ia,"esm2017"),U("fire-js","")}El("");var wl="firebase",Tl="11.1.0";U(wl,Tl,"app");function ri(r){r===void 0&&(uo(ri),r=Y(le));let e=r.get(wn);return n=>new Ft(i=>{let o=e.add(),c=!1;function l(){c||(o(),c=!0)}let p=n.subscribe({next:v=>{i.next(v),l()},complete:()=>{i.complete(),l()},error:v=>{i.error(v),l()}});return p.add(()=>{i.unsubscribe(),l()}),p})}var Je=new Io("ANGULARFIRE2_VERSION");function Pn(r,e,n){if(e){if(e.length===1)return e[0];let c=e.filter(l=>l.app===n);if(c.length===1)return c[0]}return n.container.getProvider(r).getImmediate({optional:!0})}var zt=(r,e)=>{let n=e?[e]:Sn(),i=[];return n.forEach(o=>{o.container.getProvider(r).instances.forEach(l=>{i.includes(l)||i.push(l)})}),i},ht=class{constructor(){return zt(Al)}},Al="app-check",Rn=class{zone;delegate;constructor(e,n=co){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let o=this.zone,c=function(l){o?o.runGuarded(()=>{e.apply(this,[l])}):e.apply(this,[l])};return this.delegate.schedule(c,n,i)}},Ye=(()=>{class r{outsideAngular;insideAngular;constructor(){let n=Y(se);this.outsideAngular=n.runOutsideAngular(()=>new Rn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Rn(typeof Zone>"u"?void 0:Zone.current,ao))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=vn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function bl(){return Y(Ye)}var ha=!1;function ii(r,e){wo()&&(console.warn(`Firebase API called outside injection context: ${e}(${r.name})`),ha||(ha=!0,console.error("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")))}function Sl(r){let e;try{e=Y(se)}catch{ii(r,"runOutsideAngular")}return e?e.runOutsideAngular(()=>r()):r()}function Qe(r){let e;try{e=Y(se)}catch{ii(r,"run")}return e?e.run(()=>r()):r()}var Rl=(r,e,n)=>(...i)=>(e&&setTimeout(e,0),En(n,()=>Qe(()=>r.apply(void 0,i)))),dt=(r,e)=>function(){let n,i=arguments,o,c,l;try{o=bl(),c=Y(wn),l=Y(le)}catch{return ii(r,"\u0275zoneWrap"),r.apply(this,i)}for(let v=0;v<arguments.length;v++)typeof i[v]=="function"&&(e&&(n||=Qe(()=>c.add())),i[v]=Rl(i[v],n,l));let p=Sl(()=>r.apply(this,i));return e?p instanceof Ft?p.pipe(Dr(o.outsideAngular),Cr(o.insideAngular),ri(l)):p instanceof Promise?Qe(()=>new Promise((v,T)=>{c.run(()=>p).then(b=>En(l,()=>Qe(()=>v(b))),b=>En(l,()=>Qe(()=>T(b))))})):typeof p=="function"&&n?function(){return setTimeout(n,0),p.apply(this,arguments)}:Qe(()=>p):p instanceof Ft?p.pipe(Dr(o.outsideAngular),Cr(o.insideAngular)):Qe(()=>p)};var we=class{constructor(e){return e}},Xe=class{constructor(){return Sn()}};function Pl(r){return r&&r.length===1?r[0]:new we(lt())}var si=new ke("angularfire2._apps"),Cl={provide:we,useFactory:Pl,deps:[[new ie,si]]},Dl={provide:Xe,deps:[[new ie,si]]};function kl(r){return(e,n)=>{let i=n.get(ho);U("angularfire",Je.full,"core"),U("angularfire",Je.full,"app"),U("angular",vo.full,i.toString());let o=e.runOutsideAngular(()=>r(n));return new we(o)}}function da(r,...e){return Ne([Cl,Dl,{provide:si,useFactory:kl(r),multi:!0,deps:[se,le,Ye,...e]}])}var fa=dt(ni,!0);function Pa(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ca=Pa,Da=new Ie("auth","Firebase",Pa());var xn=new xe("@firebase/auth");function Nl(r,...e){xn.logLevel<=N.WARN&&xn.warn(`Auth (${Me}): ${r}`,...e)}function Dn(r,...e){xn.logLevel<=N.ERROR&&xn.error(`Auth (${Me}): ${r}`,...e)}function Ue(r,...e){throw bi(r,...e)}function et(r,...e){return bi(r,...e)}function ka(r,e,n){let i=Object.assign(Object.assign({},Ca()),{[e]:n});return new Ie("auth","Firebase",i).create(e,{appName:r.name})}function Ze(r){return ka(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bi(r,...e){if(typeof r!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return Da.create(r,...e)}function S(r,e,...n){if(!r)throw bi(e,...n)}function Te(r){let e="INTERNAL ASSERTION FAILED: "+r;throw Dn(e),new Error(e)}function Be(r,e){r||Te(e)}function ui(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Ol(){return pa()==="http:"||pa()==="https:"}function pa(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function xl(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ol()||Go()||"connection"in navigator)?navigator.onLine:!0}function Vl(){if(typeof navigator>"u")return null;let r=navigator;return r.languages&&r.languages[0]||r.language||null}var tt=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Be(n>e,"Short delay should be less than long delay!"),this.isMobile=jo()||Wo()}get(){return xl()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Si(r,e){Be(r.emulator,"Emulator should always be set here");let{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Vn=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ll={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Ml=new tt(3e4,6e4);function Ri(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}function pt(c,l,p,v){return w(this,arguments,function*(r,e,n,i,o={}){return Na(r,o,()=>w(this,null,function*(){let T={},b={};i&&(e==="GET"?b=i:T={body:JSON.stringify(i)});let C=Bt(Object.assign({key:r.config.apiKey},b)).slice(1),R=yield r._getAdditionalHeaders();R["Content-Type"]="application/json",r.languageCode&&(R["X-Firebase-Locale"]=r.languageCode);let M=Object.assign({method:e,headers:R},T);return zo()||(M.referrerPolicy="no-referrer"),Vn.fetch()(Oa(r,r.config.apiHost,n,C),M)}))})}function Na(r,e,n){return w(this,null,function*(){r._canInitEmulator=!1;let i=Object.assign(Object.assign({},Ll),e);try{let o=new li(r),c=yield Promise.race([n(),o.promise]);o.clearNetworkTimeout();let l=yield c.json();if("needConfirmation"in l)throw Cn(r,"account-exists-with-different-credential",l);if(c.ok&&!("errorMessage"in l))return l;{let p=c.ok?l.errorMessage:l.error.message,[v,T]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cn(r,"credential-already-in-use",l);if(v==="EMAIL_EXISTS")throw Cn(r,"email-already-in-use",l);if(v==="USER_DISABLED")throw Cn(r,"user-disabled",l);let b=i[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw ka(r,b,T);Ue(r,b)}}catch(o){if(o instanceof re)throw o;Ue(r,"network-request-failed",{message:String(o)})}})}function Fl(c,l,p,v){return w(this,arguments,function*(r,e,n,i,o={}){let T=yield pt(r,e,n,i,o);return"mfaPendingCredential"in T&&Ue(r,"multi-factor-auth-required",{_serverResponse:T}),T})}function Oa(r,e,n,i){let o=`${e}${n}?${i}`;return r.config.emulator?Si(r.config,o):`${r.config.apiScheme}://${o}`}var li=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(et(this.auth,"network-request-failed")),Ml.get())})}};function Cn(r,e,n){let i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let o=et(r,e,i);return o.customData._tokenResponse=n,o}function Ul(r,e){return w(this,null,function*(){return pt(r,"POST","/v1/accounts:delete",e)})}function xa(r,e){return w(this,null,function*(){return pt(r,"POST","/v1/accounts:lookup",e)})}function Gt(r){if(r)try{let e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Pi(r,e=!1){return w(this,null,function*(){let n=Oe(r),i=yield n.getIdToken(e),o=Ci(i);S(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");let c=typeof o.firebase=="object"?o.firebase:void 0,l=c?.sign_in_provider;return{claims:o,token:i,authTime:Gt(oi(o.auth_time)),issuedAtTime:Gt(oi(o.iat)),expirationTime:Gt(oi(o.exp)),signInProvider:l||null,signInSecondFactor:c?.sign_in_second_factor||null}})}function oi(r){return Number(r)*1e3}function Ci(r){let[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Dn("JWT malformed, contained fewer than 3 sections"),null;try{let o=Lr(n);return o?JSON.parse(o):(Dn("Failed to decode base64 JWT payload"),null)}catch(o){return Dn("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ma(r){let e=Ci(r);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Kt(r,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof re&&Bl(i)&&r.auth.currentUser===r&&(yield r.auth.signOut()),i}})}function Bl({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}var hi=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ht=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gt(this.lastLoginAt),this.creationTime=Gt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ln(r){return w(this,null,function*(){var e;let n=r.auth,i=yield r.getIdToken(),o=yield Kt(r,xa(n,{idToken:i}));S(o?.users.length,n,"internal-error");let c=o.users[0];r._notifyReloadListener(c);let l=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?Va(c.providerUserInfo):[],p=ql(r.providerData,l),v=r.isAnonymous,T=!(r.email&&c.passwordHash)&&!p?.length,b=v?T:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Ht(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(r,C)})}function Di(r){return w(this,null,function*(){let e=Oe(r);yield Ln(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ql(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Va(r){return r.map(e=>{var{providerId:n}=e,i=Pr(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function $l(r,e){return w(this,null,function*(){let n=yield Na(r,{},()=>w(this,null,function*(){let i=Bt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,l=Oa(r,o,"/v1/token",`key=${c}`),p=yield r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(l,{method:"POST",headers:p,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function jl(r,e){return w(this,null,function*(){return pt(r,"POST","/v2/accounts:revokeToken",Ri(r,e))})}var Wt=class r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ma(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){S(e.length!==0,"internal-error");let n=ma(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(S(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:i,refreshToken:o,expiresIn:c}=yield $l(e,n);this.updateTokensAndExpiration(i,o,Number(c))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:o,expirationTime:c}=n,l=new r;return i&&(S(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),o&&(S(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),c&&(S(typeof c=="number","internal-error",{appName:e}),l.expirationTime=c),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new r,this.toJSON())}_performRefresh(){return Te("not implemented")}};function Fe(r,e){S(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}var ft=class r{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,c=Pr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Ht(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Kt(this,this.stsTokenManager.getToken(this.auth,e));return S(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Pi(this,e)}reload(){return Di(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ln(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Ee(this.auth.app))return Promise.reject(Ze(this.auth));let e=yield this.getIdToken();return yield Kt(this,Ul(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,c,l,p,v,T,b;let C=(i=n.displayName)!==null&&i!==void 0?i:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,M=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,D=(l=n.photoURL)!==null&&l!==void 0?l:void 0,F=(p=n.tenantId)!==null&&p!==void 0?p:void 0,V=(v=n._redirectEventId)!==null&&v!==void 0?v:void 0,me=(T=n.createdAt)!==null&&T!==void 0?T:void 0,te=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:z,emailVerified:ae,isAnonymous:$e,providerData:Z,stsTokenManager:y}=n;S(z&&y,e,"internal-error");let h=Wt.fromJSON(this.name,y);S(typeof z=="string",e,"internal-error"),Fe(C,e.name),Fe(R,e.name),S(typeof ae=="boolean",e,"internal-error"),S(typeof $e=="boolean",e,"internal-error"),Fe(M,e.name),Fe(D,e.name),Fe(F,e.name),Fe(V,e.name),Fe(me,e.name),Fe(te,e.name);let f=new r({uid:z,auth:e,email:R,emailVerified:ae,displayName:C,isAnonymous:$e,photoURL:D,phoneNumber:M,tenantId:F,stsTokenManager:h,createdAt:me,lastLoginAt:te});return Z&&Array.isArray(Z)&&(f.providerData=Z.map(m=>Object.assign({},m))),V&&(f._redirectEventId=V),f}static _fromIdTokenResponse(e,n,i=!1){return w(this,null,function*(){let o=new Wt;o.updateFromServerResponse(n);let c=new r({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return yield Ln(c),c})}static _fromGetAccountInfoResponse(e,n,i){return w(this,null,function*(){let o=n.users[0];S(o.localId!==void 0,"internal-error");let c=o.providerUserInfo!==void 0?Va(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!c?.length,p=new Wt;p.updateFromIdToken(i);let v=new r({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:l}),T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ht(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,T),v})}};var ga=new Map;function Ae(r){Be(r instanceof Function,"Expected a class definition");let e=ga.get(r);return e?(Be(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ga.set(r,e),e)}var zl=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,i){return w(this,null,function*(){this.storage[n]=i})}_get(n){return w(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return r.type="NONE",r})(),di=zl;function kn(r,e,n){return`firebase:${r}:${e}:${n}`}var Mn=class r{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:o,name:c}=this.auth;this.fullUserKey=kn(this.userKey,o.apiKey,c),this.fullPersistenceKey=kn("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ft._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return w(this,null,function*(){if(!n.length)return new r(Ae(di),e,i);let o=(yield Promise.all(n.map(T=>w(this,null,function*(){if(yield T._isAvailable())return T})))).filter(T=>T),c=o[0]||Ae(di),l=kn(i,e.config.apiKey,e.name),p=null;for(let T of n)try{let b=yield T._get(l);if(b){let C=ft._fromJSON(e,b);T!==c&&(p=C),c=T;break}}catch{}let v=o.filter(T=>T._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new r(c,e,i):(c=v[0],p&&(yield c._set(l,p.toJSON())),yield Promise.all(n.map(T=>w(this,null,function*(){if(T!==c)try{yield T._remove(l)}catch{}}))),new r(c,e,i))})}};function _a(r){let e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ua(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(La(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qa(e))return"Blackberry";if($a(e))return"Webos";if(Ma(e))return"Safari";if((e.includes("chrome/")||Fa(e))&&!e.includes("edge/"))return"Chrome";if(Ba(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function La(r=q()){return/firefox\//i.test(r)}function Ma(r=q()){let e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fa(r=q()){return/crios\//i.test(r)}function Ua(r=q()){return/iemobile/i.test(r)}function Ba(r=q()){return/android/i.test(r)}function qa(r=q()){return/blackberry/i.test(r)}function $a(r=q()){return/webos/i.test(r)}function ki(r=q()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Gl(r=q()){var e;return ki(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wl(){return Ko()&&document.documentMode===10}function ja(r=q()){return ki(r)||Ba(r)||$a(r)||qa(r)||/windows phone/i.test(r)||Ua(r)}function za(r,e=[]){let n;switch(r){case"Browser":n=_a(q());break;case"Worker":n=`${_a(q())}-${r}`;break;default:n=r}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Me}/${i}`}var fi=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=c=>new Promise((l,p)=>{try{let v=e(c);l(v)}catch(v){p(v)}});i.onAbort=n,this.queue.push(i);let o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Kl(n){return w(this,arguments,function*(r,e={}){return pt(r,"GET","/v2/passwordPolicy",Ri(r,e))})}var Hl=6,pi=class{constructor(e){var n,i,o,c;let l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Hl,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,c,l,p;let v={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,v),this.validatePasswordCharacterOptions(e,v),v.isValid&&(v.isValid=(n=v.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),v.isValid&&(v.isValid=(i=v.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),v.isValid&&(v.isValid=(o=v.containsLowercaseLetter)!==null&&o!==void 0?o:!0),v.isValid&&(v.isValid=(c=v.containsUppercaseLetter)!==null&&c!==void 0?c:!0),v.isValid&&(v.isValid=(l=v.containsNumericCharacter)!==null&&l!==void 0?l:!0),v.isValid&&(v.isValid=(p=v.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),v}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}};var mi=class{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fn(this),this.idTokenSubscription=new Fn(this),this.beforeStateQueue=new fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Da,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ae(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var i,o;if(!this._deleted&&(this.persistenceManager=yield Mn.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield xa(this,{idToken:e}),i=yield ft._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Ee(this.app)){let l=this.app.settings.authIdToken;return l?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(p,p))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),o=i,c=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o?._redirectEventId,v=yield this.tryRedirectSignIn(e);(!l||l===p)&&v?.user&&(o=v.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{yield this.beforeStateQueue.runMiddleware(o)}catch(l){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Ln(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Vl()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Ee(this.app))return Promise.reject(Ze(this));let n=e?Oe(e):null;return n&&S(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Ee(this.app)?Promise.reject(Ze(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ee(this.app)?Promise.reject(Ze(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Ae(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield Kl(this),n=new pi(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ie("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield jl(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ae(e)||this._popupRedirectResolver;S(n,this,"argument-error"),this.redirectPersistenceManager=yield Mn.create(this,[Ae(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};let c=typeof n=="function"?n:n.next.bind(n),l=!1,p=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(p,this,"internal-error"),p.then(()=>{l||c(this.currentUser)}),typeof n=="function"){let v=e.addObserver(n,i,o);return()=>{l=!0,v()}}else{let v=e.addObserver(n);return()=>{l=!0,v()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=za(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let o=yield this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Nl(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ni(r){return Oe(r)}var Fn=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jo(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Oi={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ql(r){Oi=r}function Jl(r){return Oi.loadJS(r)}function Yl(){return Oi.gapiScript}function Ga(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function xi(r,e){let n=jt(r,"auth");if(n.isInitialized()){let o=n.getImmediate(),c=n.getOptions();if(Ke(c,e??{}))return o;Ue(o,"already-initialized")}return n.initialize({options:e})}function Xl(r,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ae);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function Vi(r,e,n){let i=Ni(r);S(i._canInitEmulator,i,"emulator-config-failed"),S(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let o=!!n?.disableWarnings,c=Wa(e),{host:l,port:p}=Zl(e),v=p===null?"":`:${p}`;i.config.emulator={url:`${c}//${l}${v}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||eh()}function Wa(r){let e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Zl(r){let e=Wa(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){let c=o[1];return{host:c,port:ya(i.substr(c.length+1))}}else{let[c,l]=i.split(":");return{host:c,port:ya(l)}}}function ya(r){if(!r)return null;let e=Number(r);return isNaN(e)?null:e}function eh(){function r(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}var Un=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Te("not implemented")}_getIdTokenResponse(e){return Te("not implemented")}_linkToIdToken(e,n){return Te("not implemented")}_getReauthenticationResolver(e){return Te("not implemented")}};function ai(r,e){return w(this,null,function*(){return Fl(r,"POST","/v1/accounts:signInWithIdp",Ri(r,e))})}var Bn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gi=class extends Bn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Qt=class r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,o=!1){return w(this,null,function*(){let c=yield ft._fromIdTokenResponse(e,i,o),l=Ia(i);return new r({user:c,providerId:l,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return w(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let o=Ia(i);return new r({user:e,providerId:o,_tokenResponse:i,operationType:n})})}};function Ia(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}var _i=class r extends re{constructor(e,n,i,o){var c;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,r.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new r(e,n,i,o)}};function Ka(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?_i._fromErrorAndOperation(r,c,e,i):c})}function th(r,e,n=!1){return w(this,null,function*(){let i=yield Kt(r,e._linkToIdToken(r.auth,yield r.getIdToken()),n);return Qt._forOperation(r,"link",i)})}function nh(r,e,n=!1){return w(this,null,function*(){let{auth:i}=r;if(Ee(i.app))return Promise.reject(Ze(i));let o="reauthenticate";try{let c=yield Kt(r,Ka(i,o,e,r),n);S(c.idToken,i,"internal-error");let l=Ci(c.idToken);S(l,i,"internal-error");let{sub:p}=l;return S(r.uid===p,i,"user-mismatch"),Qt._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ue(i,"user-mismatch"),c}})}function rh(r,e,n=!1){return w(this,null,function*(){if(Ee(r.app))return Promise.reject(Ze(r));let i="signIn",o=yield Ka(r,i,e),c=yield Qt._fromIdTokenResponse(r,i,o);return n||(yield r._updateCurrentUser(c.user)),c})}function Li(r,e,n,i){return Oe(r).onIdTokenChanged(e,n,i)}function Mi(r,e,n){return Oe(r).beforeAuthStateChanged(e,n)}var qn="__sak";var $n=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qn,"1"),this.storage.removeItem(qn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var ih=1e3,sh=10,oh=(()=>{class r extends $n{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ja(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let o=this.storage.getItem(i),c=this.localCache[i];o!==c&&n(i,c,o)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((p,v,T)=>{this.notifyListeners(p,T)});return}let o=n.key;i?this.detachListener():this.stopPolling();let c=()=>{let p=this.storage.getItem(o);!i&&this.localCache[o]===p||this.notifyListeners(o,p)},l=this.storage.getItem(o);Wl()&&l!==n.newValue&&n.newValue!==n.oldValue?setTimeout(c,sh):c()}notifyListeners(n,i){this.localCache[n]=i;let o=this.listeners[n];if(o)for(let c of Array.from(o))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:o}),!0)})},ih)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return w(this,null,function*(){yield De(r.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return w(this,null,function*(){let i=yield De(r.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return w(this,null,function*(){yield De(r.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return r.type="LOCAL",r})(),Ha=oh;var ah=(()=>{class r extends $n{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return r.type="SESSION",r})(),Fi=ah;function ch(r){return Promise.all(r.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var uh=(()=>{class r{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(c=>c.isListeningto(n));if(i)return i;let o=new r(n);return this.receivers.push(o),o}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let i=n,{eventId:o,eventType:c,data:l}=i.data,p=this.handlersMap[c];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:c});let v=Array.from(p).map(b=>w(this,null,function*(){return b(i.origin,l)})),T=yield ch(v);i.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:T})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}r.receivers=[];return r})();function Qa(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}var yi=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return w(this,null,function*(){let o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,l;return new Promise((p,v)=>{let T=Qa("",20);o.port1.start();let b=setTimeout(()=>{v(new Error("unsupported_event"))},i);l={messageChannel:o,onMessage(C){let R=C;if(R.data.eventId===T)switch(R.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(R.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:T,data:n},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})})}};function de(){return window}function lh(r){de().location.href=r}function Ja(){return typeof de().WorkerGlobalScope<"u"&&typeof de().importScripts=="function"}function hh(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function dh(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function fh(){return Ja()?self:null}var Ya="firebaseLocalStorageDb",ph=1,jn="firebaseLocalStorage",Xa="fbase_key",nt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Gn(r,e){return r.transaction([jn],e?"readwrite":"readonly").objectStore(jn)}function mh(){let r=indexedDB.deleteDatabase(Ya);return new nt(r).toPromise()}function Ii(){let r=indexedDB.open(Ya,ph);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{let i=r.result;try{i.createObjectStore(jn,{keyPath:Xa})}catch(o){n(o)}}),r.addEventListener("success",()=>w(this,null,function*(){let i=r.result;i.objectStoreNames.contains(jn)?e(i):(i.close(),yield mh(),e(yield Ii()))}))})}function va(r,e,n){return w(this,null,function*(){let i=Gn(r,!0).put({[Xa]:e,value:n});return new nt(i).toPromise()})}function gh(r,e){return w(this,null,function*(){let n=Gn(r,!1).get(e),i=yield new nt(n).toPromise();return i===void 0?null:i.value})}function Ea(r,e){let n=Gn(r,!0).delete(e);return new nt(n).toPromise()}var _h=800,yh=3,Ih=(()=>{class r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Ii(),this.db)})}_withRetries(n){return w(this,null,function*(){let i=0;for(;;)try{let o=yield this._openDb();return yield n(o)}catch(o){if(i++>yh)throw o;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Ja()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=uh._getInstance(fh()),this.receiver._subscribe("keyChanged",(n,i)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,i;if(this.activeServiceWorker=yield hh(),!this.activeServiceWorker)return;this.sender=new yi(this.activeServiceWorker);let o=yield this.sender._send("ping",{},800);o&&!((n=o[0])===null||n===void 0)&&n.fulfilled&&!((i=o[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||dh()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ii();return yield va(n,qn,"1"),yield Ea(n,qn),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(o=>va(o,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let i=yield this._withRetries(o=>gh(o,n));return this.localCache[n]=i,i})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>Ea(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(c=>{let l=Gn(c,!1).getAll();return new nt(l).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],o=new Set;if(n.length!==0)for(let{fbase_key:c,value:l}of n)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(l)&&(this.notifyListeners(c,l),i.push(c));for(let c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),i.push(c));return i})}notifyListeners(n,i){this.localCache[n]=i;let o=this.listeners[n];if(o)for(let c of Array.from(o))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),_h)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return r.type="LOCAL",r})(),Za=Ih;var Zp=Ga("rcb"),em=new tt(3e4,6e4);function vh(r,e){return e?Ae(e):(S(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}var Jt=class extends Un{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ai(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ai(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ai(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Eh(r){return rh(r.auth,new Jt(r),r.bypassAuthState)}function wh(r){let{auth:e,user:n}=r;return S(n,e,"internal-error"),nh(n,new Jt(r),r.bypassAuthState)}function Th(r){return w(this,null,function*(){let{auth:e,user:n}=r;return S(n,e,"internal-error"),th(n,new Jt(r),r.bypassAuthState)})}var vi=class{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:l,type:p}=e;if(l){this.reject(l);return}let v={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(p)(v))}catch(T){this.reject(T)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Eh;case"linkViaPopup":case"linkViaRedirect":return Th;case"reauthViaPopup":case"reauthViaRedirect":return wh;default:Ue(this.auth,"internal-error")}}resolve(e){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tm=new tt(2e3,1e4);var Ah="pendingRedirect",Nn=new Map,Ei=class r extends vi{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return w(this,null,function*(){let e=Nn.get(this.auth._key());if(!e){try{let i=(yield bh(this.resolver,this.auth))?yield De(r.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nn.set(this.auth._key(),e)}return this.bypassAuthState||Nn.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return De(r.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,De(r.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function bh(r,e){return w(this,null,function*(){let n=Ph(e),i=Rh(r);if(!(yield i._isAvailable()))return!1;let o=(yield i._get(n))==="true";return yield i._remove(n),o})}function Sh(r,e){Nn.set(r._key(),e)}function Rh(r){return Ae(r._redirectPersistence)}function Ph(r){return kn(Ah,r.config.apiKey,r.name)}function Ch(r,e,n=!1){return w(this,null,function*(){if(Ee(r.app))return Promise.reject(Ze(r));let i=Ni(r),o=vh(i,e),l=yield new Ei(i,o,n).execute();return l&&!n&&(delete l.user._redirectEventId,yield i._persistUserIfCurrent(l.user),yield i._setRedirectUser(null,e)),l})}var Dh=10*60*1e3,wi=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kh(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ec(e)){let o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(et(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dh&&this.cachedEventUids.clear(),this.cachedEventUids.has(wa(e))}saveEventToCache(e){this.cachedEventUids.add(wa(e)),this.lastProcessedEventTime=Date.now()}};function wa(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ec({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function kh(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ec(r);default:return!1}}function Nh(n){return w(this,arguments,function*(r,e={}){return pt(r,"GET","/v1/projects",e)})}var Oh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xh=/^https?/;function Vh(r){return w(this,null,function*(){if(r.config.emulator)return;let{authorizedDomains:e}=yield Nh(r);for(let n of e)try{if(Lh(n))return}catch{}Ue(r,"unauthorized-domain")})}function Lh(r){let e=ui(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){let l=new URL(r);return l.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!xh.test(n))return!1;if(Oh.test(r))return i===r;let o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Mh=new tt(3e4,6e4);function Ta(){let r=de().___jsl;if(r?.H){for(let e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Fh(r){return new Promise((e,n)=>{var i,o,c;function l(){Ta(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ta(),n(et(r,"network-request-failed"))},timeout:Mh.get()})}if(!((o=(i=de().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=de().gapi)===null||c===void 0)&&c.load)l();else{let p=Ga("iframefcb");return de()[p]=()=>{gapi.load?l():n(et(r,"network-request-failed"))},Jl(`${Yl()}?onload=${p}`).catch(v=>n(v))}}).catch(e=>{throw On=null,e})}var On=null;function Uh(r){return On=On||Fh(r),On}var Bh=new tt(5e3,15e3),qh="__/auth/iframe",$h="emulator/auth/iframe",jh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gh(r){let e=r.config;S(e.authDomain,r,"auth-domain-config-required");let n=e.emulator?Si(e,$h):`https://${r.config.authDomain}/${qh}`,i={apiKey:e.apiKey,appName:r.name,v:Me},o=zh.get(r.config.apiHost);o&&(i.eid=o);let c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Bt(i).slice(1)}`}function Wh(r){return w(this,null,function*(){let e=yield Uh(r),n=de().gapi;return S(n,r,"internal-error"),e.open({where:document.body,url:Gh(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jh,dontclear:!0},i=>new Promise((o,c)=>w(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let l=et(r,"network-request-failed"),p=de().setTimeout(()=>{c(l)},Bh.get());function v(){de().clearTimeout(p),o(i)}i.ping(v).then(v,()=>{c(l)})})))})}var Kh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hh=500,Qh=600,Jh="_blank",Yh="http://localhost",zn=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Xh(r,e,n,i=Hh,o=Qh){let c=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString(),p="",v=Object.assign(Object.assign({},Kh),{width:i.toString(),height:o.toString(),top:c,left:l}),T=q().toLowerCase();n&&(p=Fa(T)?Jh:n),La(T)&&(e=e||Yh,v.scrollbars="yes");let b=Object.entries(v).reduce((R,[M,D])=>`${R}${M}=${D},`,"");if(Gl(T)&&p!=="_self")return Zh(e||"",p),new zn(null);let C=window.open(e||"",p,b);S(C,r,"popup-blocked");try{C.focus()}catch{}return new zn(C)}function Zh(r,e){let n=document.createElement("a");n.href=r,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var ed="__/auth/handler",td="emulator/auth/handler",nd=encodeURIComponent("fac");function Aa(r,e,n,i,o,c){return w(this,null,function*(){S(r.config.authDomain,r,"auth-domain-config-required"),S(r.config.apiKey,r,"invalid-api-key");let l={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:Me,eventId:o};if(e instanceof Bn){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",Qo(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(let[b,C]of Object.entries(c||{}))l[b]=C}if(e instanceof gi){let b=e.getScopes().filter(C=>C!=="");b.length>0&&(l.scopes=b.join(","))}r.tenantId&&(l.tid=r.tenantId);let p=l;for(let b of Object.keys(p))p[b]===void 0&&delete p[b];let v=yield r._getAppCheckToken(),T=v?`#${nd}=${encodeURIComponent(v)}`:"";return`${rd(r)}?${Bt(p).slice(1)}${T}`})}function rd({config:r}){return r.emulator?Si(r,td):`https://${r.authDomain}/${ed}`}var ci="webStorageSupport",Ti=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fi,this._completeRedirectFn=Ch,this._overrideRedirectResult=Sh}_openPopup(e,n,i,o){return w(this,null,function*(){var c;Be((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");let l=yield Aa(e,n,i,ui(),o);return Xh(e,l,Qa())})}_openRedirect(e,n,i,o){return w(this,null,function*(){yield this._originValidation(e);let c=yield Aa(e,n,i,ui(),o);return lh(c),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Be(c,"If manager is not set, promise should be"),c)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return w(this,null,function*(){let n=yield Wh(e),i=new wi(e);return n.register("authEvent",o=>(S(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ci,{type:ci},o=>{var c;let l=(c=o?.[0])===null||c===void 0?void 0:c[ci];l!==void 0&&n(!!l),Ue(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vh(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ja()||Ma()||ki()}},tc=Ti;var ba="@firebase/auth",Sa="1.8.1";var Ai=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function id(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sd(r){Le(new oe("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:l,authDomain:p}=i.options;S(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});let v={apiKey:l,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:za(r)},T=new mi(i,o,c,v);return Xl(T,n),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Le(new oe("auth-internal",e=>{let n=Ni(e.getProvider("auth").getImmediate());return(i=>new Ai(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),U(ba,Sa,id(r)),U(ba,Sa,"esm2017")}var od=5*60,ad=Br("authIdTokenMaxAge")||od,Ra=null,cd=r=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ad)return;let o=n?.token;Ra!==o&&(Ra=o,yield fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});function Ui(r=lt()){let e=jt(r,"auth");if(e.isInitialized())return e.getImmediate();let n=xi(r,{popupRedirectResolver:tc,persistence:[Za,Ha,Fi]}),i=Br("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let c=new URL(i,location.origin);if(location.origin===c.origin){let l=cd(c.toString());Mi(n,l,()=>l(n.currentUser)),Li(n,p=>l(p))}}let o=Fr("auth");return o&&Vi(n,`http://${o}`),n}function ud(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Ql({loadJS(r){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{let c=et("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",ud().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sd("Browser");var nc="auth",Yt=class{constructor(e){return e}},Xt=class{constructor(){return zt(nc)}};var Bi=new ke("angularfire2.auth-instances");function rf(r,e){let n=Pn(nc,r,e);return n&&new Yt(n)}function sf(r){return(e,n)=>{let i=e.runOutsideAngular(()=>r(n));return new Yt(i)}}var of={provide:Xt,deps:[[new ie,Bi]]},af={provide:Yt,useFactory:rf,deps:[[new ie,Bi],we]};function rc(r,...e){return U("angularfire",Je.full,"auth"),Ne([af,of,{provide:Bi,useFactory:sf(r),multi:!0,deps:[se,le,Ye,Xe,[new ie,ht],...e]}])}var ic=dt(Ui,!0);var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oc={};var qi,ac;(function(){var r;function e(y,h){function f(){}f.prototype=h.prototype,y.D=h.prototype,y.prototype=new f,y.prototype.constructor=y,y.C=function(m,g,I){for(var d=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)d[ge-2]=arguments[ge];return h.prototype[g].apply(m,d)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(y,h,f){f||(f=0);var m=Array(16);if(typeof h=="string")for(var g=0;16>g;++g)m[g]=h.charCodeAt(f++)|h.charCodeAt(f++)<<8|h.charCodeAt(f++)<<16|h.charCodeAt(f++)<<24;else for(g=0;16>g;++g)m[g]=h[f++]|h[f++]<<8|h[f++]<<16|h[f++]<<24;h=y.g[0],f=y.g[1],g=y.g[2];var I=y.g[3],d=h+(I^f&(g^I))+m[0]+3614090360&4294967295;h=f+(d<<7&4294967295|d>>>25),d=I+(g^h&(f^g))+m[1]+3905402710&4294967295,I=h+(d<<12&4294967295|d>>>20),d=g+(f^I&(h^f))+m[2]+606105819&4294967295,g=I+(d<<17&4294967295|d>>>15),d=f+(h^g&(I^h))+m[3]+3250441966&4294967295,f=g+(d<<22&4294967295|d>>>10),d=h+(I^f&(g^I))+m[4]+4118548399&4294967295,h=f+(d<<7&4294967295|d>>>25),d=I+(g^h&(f^g))+m[5]+1200080426&4294967295,I=h+(d<<12&4294967295|d>>>20),d=g+(f^I&(h^f))+m[6]+2821735955&4294967295,g=I+(d<<17&4294967295|d>>>15),d=f+(h^g&(I^h))+m[7]+4249261313&4294967295,f=g+(d<<22&4294967295|d>>>10),d=h+(I^f&(g^I))+m[8]+1770035416&4294967295,h=f+(d<<7&4294967295|d>>>25),d=I+(g^h&(f^g))+m[9]+2336552879&4294967295,I=h+(d<<12&4294967295|d>>>20),d=g+(f^I&(h^f))+m[10]+4294925233&4294967295,g=I+(d<<17&4294967295|d>>>15),d=f+(h^g&(I^h))+m[11]+2304563134&4294967295,f=g+(d<<22&4294967295|d>>>10),d=h+(I^f&(g^I))+m[12]+1804603682&4294967295,h=f+(d<<7&4294967295|d>>>25),d=I+(g^h&(f^g))+m[13]+4254626195&4294967295,I=h+(d<<12&4294967295|d>>>20),d=g+(f^I&(h^f))+m[14]+2792965006&4294967295,g=I+(d<<17&4294967295|d>>>15),d=f+(h^g&(I^h))+m[15]+1236535329&4294967295,f=g+(d<<22&4294967295|d>>>10),d=h+(g^I&(f^g))+m[1]+4129170786&4294967295,h=f+(d<<5&4294967295|d>>>27),d=I+(f^g&(h^f))+m[6]+3225465664&4294967295,I=h+(d<<9&4294967295|d>>>23),d=g+(h^f&(I^h))+m[11]+643717713&4294967295,g=I+(d<<14&4294967295|d>>>18),d=f+(I^h&(g^I))+m[0]+3921069994&4294967295,f=g+(d<<20&4294967295|d>>>12),d=h+(g^I&(f^g))+m[5]+3593408605&4294967295,h=f+(d<<5&4294967295|d>>>27),d=I+(f^g&(h^f))+m[10]+38016083&4294967295,I=h+(d<<9&4294967295|d>>>23),d=g+(h^f&(I^h))+m[15]+3634488961&4294967295,g=I+(d<<14&4294967295|d>>>18),d=f+(I^h&(g^I))+m[4]+3889429448&4294967295,f=g+(d<<20&4294967295|d>>>12),d=h+(g^I&(f^g))+m[9]+568446438&4294967295,h=f+(d<<5&4294967295|d>>>27),d=I+(f^g&(h^f))+m[14]+3275163606&4294967295,I=h+(d<<9&4294967295|d>>>23),d=g+(h^f&(I^h))+m[3]+4107603335&4294967295,g=I+(d<<14&4294967295|d>>>18),d=f+(I^h&(g^I))+m[8]+1163531501&4294967295,f=g+(d<<20&4294967295|d>>>12),d=h+(g^I&(f^g))+m[13]+2850285829&4294967295,h=f+(d<<5&4294967295|d>>>27),d=I+(f^g&(h^f))+m[2]+4243563512&4294967295,I=h+(d<<9&4294967295|d>>>23),d=g+(h^f&(I^h))+m[7]+1735328473&4294967295,g=I+(d<<14&4294967295|d>>>18),d=f+(I^h&(g^I))+m[12]+2368359562&4294967295,f=g+(d<<20&4294967295|d>>>12),d=h+(f^g^I)+m[5]+4294588738&4294967295,h=f+(d<<4&4294967295|d>>>28),d=I+(h^f^g)+m[8]+2272392833&4294967295,I=h+(d<<11&4294967295|d>>>21),d=g+(I^h^f)+m[11]+1839030562&4294967295,g=I+(d<<16&4294967295|d>>>16),d=f+(g^I^h)+m[14]+4259657740&4294967295,f=g+(d<<23&4294967295|d>>>9),d=h+(f^g^I)+m[1]+2763975236&4294967295,h=f+(d<<4&4294967295|d>>>28),d=I+(h^f^g)+m[4]+1272893353&4294967295,I=h+(d<<11&4294967295|d>>>21),d=g+(I^h^f)+m[7]+4139469664&4294967295,g=I+(d<<16&4294967295|d>>>16),d=f+(g^I^h)+m[10]+3200236656&4294967295,f=g+(d<<23&4294967295|d>>>9),d=h+(f^g^I)+m[13]+681279174&4294967295,h=f+(d<<4&4294967295|d>>>28),d=I+(h^f^g)+m[0]+3936430074&4294967295,I=h+(d<<11&4294967295|d>>>21),d=g+(I^h^f)+m[3]+3572445317&4294967295,g=I+(d<<16&4294967295|d>>>16),d=f+(g^I^h)+m[6]+76029189&4294967295,f=g+(d<<23&4294967295|d>>>9),d=h+(f^g^I)+m[9]+3654602809&4294967295,h=f+(d<<4&4294967295|d>>>28),d=I+(h^f^g)+m[12]+3873151461&4294967295,I=h+(d<<11&4294967295|d>>>21),d=g+(I^h^f)+m[15]+530742520&4294967295,g=I+(d<<16&4294967295|d>>>16),d=f+(g^I^h)+m[2]+3299628645&4294967295,f=g+(d<<23&4294967295|d>>>9),d=h+(g^(f|~I))+m[0]+4096336452&4294967295,h=f+(d<<6&4294967295|d>>>26),d=I+(f^(h|~g))+m[7]+1126891415&4294967295,I=h+(d<<10&4294967295|d>>>22),d=g+(h^(I|~f))+m[14]+2878612391&4294967295,g=I+(d<<15&4294967295|d>>>17),d=f+(I^(g|~h))+m[5]+4237533241&4294967295,f=g+(d<<21&4294967295|d>>>11),d=h+(g^(f|~I))+m[12]+1700485571&4294967295,h=f+(d<<6&4294967295|d>>>26),d=I+(f^(h|~g))+m[3]+2399980690&4294967295,I=h+(d<<10&4294967295|d>>>22),d=g+(h^(I|~f))+m[10]+4293915773&4294967295,g=I+(d<<15&4294967295|d>>>17),d=f+(I^(g|~h))+m[1]+2240044497&4294967295,f=g+(d<<21&4294967295|d>>>11),d=h+(g^(f|~I))+m[8]+1873313359&4294967295,h=f+(d<<6&4294967295|d>>>26),d=I+(f^(h|~g))+m[15]+4264355552&4294967295,I=h+(d<<10&4294967295|d>>>22),d=g+(h^(I|~f))+m[6]+2734768916&4294967295,g=I+(d<<15&4294967295|d>>>17),d=f+(I^(g|~h))+m[13]+1309151649&4294967295,f=g+(d<<21&4294967295|d>>>11),d=h+(g^(f|~I))+m[4]+4149444226&4294967295,h=f+(d<<6&4294967295|d>>>26),d=I+(f^(h|~g))+m[11]+3174756917&4294967295,I=h+(d<<10&4294967295|d>>>22),d=g+(h^(I|~f))+m[2]+718787259&4294967295,g=I+(d<<15&4294967295|d>>>17),d=f+(I^(g|~h))+m[9]+3951481745&4294967295,y.g[0]=y.g[0]+h&4294967295,y.g[1]=y.g[1]+(g+(d<<21&4294967295|d>>>11))&4294967295,y.g[2]=y.g[2]+g&4294967295,y.g[3]=y.g[3]+I&4294967295}i.prototype.u=function(y,h){h===void 0&&(h=y.length);for(var f=h-this.blockSize,m=this.B,g=this.h,I=0;I<h;){if(g==0)for(;I<=f;)o(this,y,I),I+=this.blockSize;if(typeof y=="string"){for(;I<h;)if(m[g++]=y.charCodeAt(I++),g==this.blockSize){o(this,m),g=0;break}}else for(;I<h;)if(m[g++]=y[I++],g==this.blockSize){o(this,m),g=0;break}}this.h=g,this.o+=h},i.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var h=1;h<y.length-8;++h)y[h]=0;var f=8*this.o;for(h=y.length-8;h<y.length;++h)y[h]=f&255,f/=256;for(this.u(y),y=Array(16),h=f=0;4>h;++h)for(var m=0;32>m;m+=8)y[f++]=this.g[h]>>>m&255;return y};function c(y,h){var f=p;return Object.prototype.hasOwnProperty.call(f,y)?f[y]:f[y]=h(y)}function l(y,h){this.h=h;for(var f=[],m=!0,g=y.length-1;0<=g;g--){var I=y[g]|0;m&&I==h||(f[g]=I,m=!1)}this.g=f}var p={};function v(y){return-128<=y&&128>y?c(y,function(h){return new l([h|0],0>h?-1:0)}):new l([y|0],0>y?-1:0)}function T(y){if(isNaN(y)||!isFinite(y))return C;if(0>y)return V(T(-y));for(var h=[],f=1,m=0;y>=f;m++)h[m]=y/f|0,f*=4294967296;return new l(h,0)}function b(y,h){if(y.length==0)throw Error("number format error: empty string");if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(y.charAt(0)=="-")return V(b(y.substring(1),h));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var f=T(Math.pow(h,8)),m=C,g=0;g<y.length;g+=8){var I=Math.min(8,y.length-g),d=parseInt(y.substring(g,g+I),h);8>I?(I=T(Math.pow(h,I)),m=m.j(I).add(T(d))):(m=m.j(f),m=m.add(T(d)))}return m}var C=v(0),R=v(1),M=v(16777216);r=l.prototype,r.m=function(){if(F(this))return-V(this).m();for(var y=0,h=1,f=0;f<this.g.length;f++){var m=this.i(f);y+=(0<=m?m:4294967296+m)*h,h*=4294967296}return y},r.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D(this))return"0";if(F(this))return"-"+V(this).toString(y);for(var h=T(Math.pow(y,6)),f=this,m="";;){var g=ae(f,h).g;f=me(f,g.j(h));var I=((0<f.g.length?f.g[0]:f.h)>>>0).toString(y);if(f=g,D(f))return I+m;for(;6>I.length;)I="0"+I;m=I+m}},r.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function D(y){if(y.h!=0)return!1;for(var h=0;h<y.g.length;h++)if(y.g[h]!=0)return!1;return!0}function F(y){return y.h==-1}r.l=function(y){return y=me(this,y),F(y)?-1:D(y)?0:1};function V(y){for(var h=y.g.length,f=[],m=0;m<h;m++)f[m]=~y.g[m];return new l(f,~y.h).add(R)}r.abs=function(){return F(this)?V(this):this},r.add=function(y){for(var h=Math.max(this.g.length,y.g.length),f=[],m=0,g=0;g<=h;g++){var I=m+(this.i(g)&65535)+(y.i(g)&65535),d=(I>>>16)+(this.i(g)>>>16)+(y.i(g)>>>16);m=d>>>16,I&=65535,d&=65535,f[g]=d<<16|I}return new l(f,f[f.length-1]&-2147483648?-1:0)};function me(y,h){return y.add(V(h))}r.j=function(y){if(D(this)||D(y))return C;if(F(this))return F(y)?V(this).j(V(y)):V(V(this).j(y));if(F(y))return V(this.j(V(y)));if(0>this.l(M)&&0>y.l(M))return T(this.m()*y.m());for(var h=this.g.length+y.g.length,f=[],m=0;m<2*h;m++)f[m]=0;for(m=0;m<this.g.length;m++)for(var g=0;g<y.g.length;g++){var I=this.i(m)>>>16,d=this.i(m)&65535,ge=y.i(g)>>>16,It=y.i(g)&65535;f[2*m+2*g]+=d*It,te(f,2*m+2*g),f[2*m+2*g+1]+=I*It,te(f,2*m+2*g+1),f[2*m+2*g+1]+=d*ge,te(f,2*m+2*g+1),f[2*m+2*g+2]+=I*ge,te(f,2*m+2*g+2)}for(m=0;m<h;m++)f[m]=f[2*m+1]<<16|f[2*m];for(m=h;m<2*h;m++)f[m]=0;return new l(f,0)};function te(y,h){for(;(y[h]&65535)!=y[h];)y[h+1]+=y[h]>>>16,y[h]&=65535,h++}function z(y,h){this.g=y,this.h=h}function ae(y,h){if(D(h))throw Error("division by zero");if(D(y))return new z(C,C);if(F(y))return h=ae(V(y),h),new z(V(h.g),V(h.h));if(F(h))return h=ae(y,V(h)),new z(V(h.g),h.h);if(30<y.g.length){if(F(y)||F(h))throw Error("slowDivide_ only works with positive integers.");for(var f=R,m=h;0>=m.l(y);)f=$e(f),m=$e(m);var g=Z(f,1),I=Z(m,1);for(m=Z(m,2),f=Z(f,2);!D(m);){var d=I.add(m);0>=d.l(y)&&(g=g.add(f),I=d),m=Z(m,1),f=Z(f,1)}return h=me(y,g.j(h)),new z(g,h)}for(g=C;0<=y.l(h);){for(f=Math.max(1,Math.floor(y.m()/h.m())),m=Math.ceil(Math.log(f)/Math.LN2),m=48>=m?1:Math.pow(2,m-48),I=T(f),d=I.j(h);F(d)||0<d.l(y);)f-=m,I=T(f),d=I.j(h);D(I)&&(I=R),g=g.add(I),y=me(y,d)}return new z(g,y)}r.A=function(y){return ae(this,y).h},r.and=function(y){for(var h=Math.max(this.g.length,y.g.length),f=[],m=0;m<h;m++)f[m]=this.i(m)&y.i(m);return new l(f,this.h&y.h)},r.or=function(y){for(var h=Math.max(this.g.length,y.g.length),f=[],m=0;m<h;m++)f[m]=this.i(m)|y.i(m);return new l(f,this.h|y.h)},r.xor=function(y){for(var h=Math.max(this.g.length,y.g.length),f=[],m=0;m<h;m++)f[m]=this.i(m)^y.i(m);return new l(f,this.h^y.h)};function $e(y){for(var h=y.g.length+1,f=[],m=0;m<h;m++)f[m]=y.i(m)<<1|y.i(m-1)>>>31;return new l(f,y.h)}function Z(y,h){var f=h>>5;h%=32;for(var m=y.g.length-f,g=[],I=0;I<m;I++)g[I]=0<h?y.i(I+f)>>>h|y.i(I+f+1)<<32-h:y.i(I+f);return new l(g,y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ac=oc.Md5=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=T,l.fromString=b,qi=oc.Integer=l}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});var Wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={};var cc,cf,uc,lc,hc,dc,fc,pc,mc;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,s,a){return t==Array.prototype||t==Object.prototype||(t[s]=a.value),t};function n(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wn=="object"&&Wn];for(var s=0;s<t.length;++s){var a=t[s];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var i=n(this);function o(t,s){if(s)e:{var a=i;t=t.split(".");for(var u=0;u<t.length-1;u++){var _=t[u];if(!(_ in a))break e;a=a[_]}t=t[t.length-1],u=a[t],s=s(u),s!=u&&s!=null&&e(a,t,{configurable:!0,writable:!0,value:s})}}function c(t,s){t instanceof String&&(t+="");var a=0,u=!1,_={next:function(){if(!u&&a<t.length){var E=a++;return{value:s(E,t[E]),done:!1}}return u=!0,{done:!0,value:void 0}}};return _[Symbol.iterator]=function(){return _},_}o("Array.prototype.values",function(t){return t||function(){return c(this,function(s,a){return a})}});var l=l||{},p=this||self;function v(t){var s=typeof t;return s=s!="object"?s:t?Array.isArray(t)?"array":s:"null",s=="array"||s=="object"&&typeof t.length=="number"}function T(t){var s=typeof t;return s=="object"&&t!=null||s=="function"}function b(t,s,a){return t.call.apply(t.bind,arguments)}function C(t,s,a){if(!t)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var _=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_,u),t.apply(s,_)}}return function(){return t.apply(s,arguments)}}function R(t,s,a){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:C,R.apply(null,arguments)}function M(t,s){var a=Array.prototype.slice.call(arguments,1);return function(){var u=a.slice();return u.push.apply(u,arguments),t.apply(this,u)}}function D(t,s){function a(){}a.prototype=s.prototype,t.aa=s.prototype,t.prototype=new a,t.prototype.constructor=t,t.Qb=function(u,_,E){for(var A=Array(arguments.length-2),O=2;O<arguments.length;O++)A[O-2]=arguments[O];return s.prototype[_].apply(u,A)}}function F(t){let s=t.length;if(0<s){let a=Array(s);for(let u=0;u<s;u++)a[u]=t[u];return a}return[]}function V(t,s){for(let a=1;a<arguments.length;a++){let u=arguments[a];if(v(u)){let _=t.length||0,E=u.length||0;t.length=_+E;for(let A=0;A<E;A++)t[_+A]=u[A]}else t.push(u)}}class me{constructor(s,a){this.i=s,this.j=a,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function te(t){return/^[\s\xa0]*$/.test(t)}function z(){var t=p.navigator;return t&&(t=t.userAgent)?t:""}function ae(t){return ae[" "](t),t}ae[" "]=function(){};var $e=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Z(t,s,a){for(let u in t)s.call(a,t[u],u,t)}function y(t,s){for(let a in t)s.call(void 0,t[a],a,t)}function h(t){let s={};for(let a in t)s[a]=t[a];return s}let f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m(t,s){let a,u;for(let _=1;_<arguments.length;_++){u=arguments[_];for(a in u)t[a]=u[a];for(let E=0;E<f.length;E++)a=f[E],Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a])}}function g(t){var s=1;t=t.split(":");let a=[];for(;0<s&&t.length;)a.push(t.shift()),s--;return t.length&&a.push(t.join(":")),a}function I(t){p.setTimeout(()=>{throw t},0)}function d(){var t=tr;let s=null;return t.g&&(s=t.g,t.g=t.g.next,t.g||(t.h=null),s.next=null),s}class ge{constructor(){this.h=this.g=null}add(s,a){let u=It.get();u.set(s,a),this.h?this.h.next=u:this.g=u,this.h=u}}var It=new me(()=>new Cc,t=>t.reset());class Cc{constructor(){this.next=this.g=this.h=null}set(s,a){this.h=s,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,Et=!1,tr=new ge,os=()=>{let t=p.Promise.resolve(void 0);vt=()=>{t.then(Dc)}};var Dc=()=>{for(var t;t=d();){try{t.h.call(t.g)}catch(a){I(a)}var s=It;s.j(t),100>s.h&&(s.h++,t.next=s.g,s.g=t)}Et=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(t,s){this.type=t,this.g=this.target=s,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var kc=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var t=!1,s=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let a=()=>{};p.addEventListener("test",a,s),p.removeEventListener("test",a,s)}catch{}return t}();function wt(t,s){if(G.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var a=this.type=t.type,u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=s,s=t.relatedTarget){if($e){e:{try{ae(s.nodeName);var _=!0;break e}catch{}_=!1}_||(s=null)}}else a=="mouseover"?s=t.fromElement:a=="mouseout"&&(s=t.toElement);this.relatedTarget=s,u?(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Nc[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wt.aa.h.call(this)}}D(wt,G);var Nc={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Oc=0;function xc(t,s,a,u,_){this.listener=t,this.proxy=null,this.src=s,this.type=a,this.capture=!!u,this.ha=_,this.key=++Oc,this.da=this.fa=!1}function nn(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function rn(t){this.src=t,this.g={},this.h=0}rn.prototype.add=function(t,s,a,u,_){var E=t.toString();t=this.g[E],t||(t=this.g[E]=[],this.h++);var A=rr(t,s,u,_);return-1<A?(s=t[A],a||(s.fa=!1)):(s=new xc(s,this.src,E,!!u,_),s.fa=a,t.push(s)),s};function nr(t,s){var a=s.type;if(a in t.g){var u=t.g[a],_=Array.prototype.indexOf.call(u,s,void 0),E;(E=0<=_)&&Array.prototype.splice.call(u,_,1),E&&(nn(s),t.g[a].length==0&&(delete t.g[a],t.h--))}}function rr(t,s,a,u){for(var _=0;_<t.length;++_){var E=t[_];if(!E.da&&E.listener==s&&E.capture==!!a&&E.ha==u)return _}return-1}var ir="closure_lm_"+(1e6*Math.random()|0),sr={};function as(t,s,a,u,_){if(u&&u.once)return us(t,s,a,u,_);if(Array.isArray(s)){for(var E=0;E<s.length;E++)as(t,s[E],a,u,_);return null}return a=ur(a),t&&t[Tt]?t.K(s,a,T(u)?!!u.capture:!!u,_):cs(t,s,a,!1,u,_)}function cs(t,s,a,u,_,E){if(!s)throw Error("Invalid event type");var A=T(_)?!!_.capture:!!_,O=ar(t);if(O||(t[ir]=O=new rn(t)),a=O.add(s,a,u,A,E),a.proxy)return a;if(u=Vc(),a.proxy=u,u.src=t,u.listener=a,t.addEventListener)kc||(_=A),_===void 0&&(_=!1),t.addEventListener(s.toString(),u,_);else if(t.attachEvent)t.attachEvent(hs(s.toString()),u);else if(t.addListener&&t.removeListener)t.addListener(u);else throw Error("addEventListener and attachEvent are unavailable.");return a}function Vc(){function t(a){return s.call(t.src,t.listener,a)}let s=Lc;return t}function us(t,s,a,u,_){if(Array.isArray(s)){for(var E=0;E<s.length;E++)us(t,s[E],a,u,_);return null}return a=ur(a),t&&t[Tt]?t.L(s,a,T(u)?!!u.capture:!!u,_):cs(t,s,a,!0,u,_)}function ls(t,s,a,u,_){if(Array.isArray(s))for(var E=0;E<s.length;E++)ls(t,s[E],a,u,_);else u=T(u)?!!u.capture:!!u,a=ur(a),t&&t[Tt]?(t=t.i,s=String(s).toString(),s in t.g&&(E=t.g[s],a=rr(E,a,u,_),-1<a&&(nn(E[a]),Array.prototype.splice.call(E,a,1),E.length==0&&(delete t.g[s],t.h--)))):t&&(t=ar(t))&&(s=t.g[s.toString()],t=-1,s&&(t=rr(s,a,u,_)),(a=-1<t?s[t]:null)&&or(a))}function or(t){if(typeof t!="number"&&t&&!t.da){var s=t.src;if(s&&s[Tt])nr(s.i,t);else{var a=t.type,u=t.proxy;s.removeEventListener?s.removeEventListener(a,u,t.capture):s.detachEvent?s.detachEvent(hs(a),u):s.addListener&&s.removeListener&&s.removeListener(u),(a=ar(s))?(nr(a,t),a.h==0&&(a.src=null,s[ir]=null)):nn(t)}}}function hs(t){return t in sr?sr[t]:sr[t]="on"+t}function Lc(t,s){if(t.da)t=!0;else{s=new wt(s,this);var a=t.listener,u=t.ha||t.src;t.fa&&or(t),t=a.call(u,s)}return t}function ar(t){return t=t[ir],t instanceof rn?t:null}var cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(t){return typeof t=="function"?t:(t[cr]||(t[cr]=function(s){return t.handleEvent(s)}),t[cr])}function W(){Se.call(this),this.i=new rn(this),this.M=this,this.F=null}D(W,Se),W.prototype[Tt]=!0,W.prototype.removeEventListener=function(t,s,a,u){ls(this,t,s,a,u)};function Q(t,s){var a,u=t.F;if(u)for(a=[];u;u=u.F)a.push(u);if(t=t.M,u=s.type||s,typeof s=="string")s=new G(s,t);else if(s instanceof G)s.target=s.target||t;else{var _=s;s=new G(u,t),m(s,_)}if(_=!0,a)for(var E=a.length-1;0<=E;E--){var A=s.g=a[E];_=sn(A,u,!0,s)&&_}if(A=s.g=t,_=sn(A,u,!0,s)&&_,_=sn(A,u,!1,s)&&_,a)for(E=0;E<a.length;E++)A=s.g=a[E],_=sn(A,u,!1,s)&&_}W.prototype.N=function(){if(W.aa.N.call(this),this.i){var t=this.i,s;for(s in t.g){for(var a=t.g[s],u=0;u<a.length;u++)nn(a[u]);delete t.g[s],t.h--}}this.F=null},W.prototype.K=function(t,s,a,u){return this.i.add(String(t),s,!1,a,u)},W.prototype.L=function(t,s,a,u){return this.i.add(String(t),s,!0,a,u)};function sn(t,s,a,u){if(s=t.i.g[String(s)],!s)return!0;s=s.concat();for(var _=!0,E=0;E<s.length;++E){var A=s[E];if(A&&!A.da&&A.capture==a){var O=A.listener,B=A.ha||A.src;A.fa&&nr(t.i,A),_=O.call(B,u)!==!1&&_}}return _&&!u.defaultPrevented}function ds(t,s,a){if(typeof t=="function")a&&(t=R(t,a));else if(t&&typeof t.handleEvent=="function")t=R(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:p.setTimeout(t,s||0)}function fs(t){t.g=ds(()=>{t.g=null,t.i&&(t.i=!1,fs(t))},t.l);let s=t.h;t.h=null,t.m.apply(null,s)}class Mc extends Se{constructor(s,a){super(),this.m=s,this.l=a,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(t){Se.call(this),this.h=t,this.g={}}D(At,Se);var ps=[];function ms(t){Z(t.g,function(s,a){this.g.hasOwnProperty(a)&&or(s)},t),t.g={}}At.prototype.N=function(){At.aa.N.call(this),ms(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=p.JSON.stringify,Fc=p.JSON.parse,Uc=class{stringify(t){return p.JSON.stringify(t,void 0)}parse(t){return p.JSON.parse(t,void 0)}};function hr(){}hr.prototype.h=null;function gs(t){return t.h||(t.h=t.i())}function _s(){}var bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){G.call(this,"d")}D(dr,G);function fr(){G.call(this,"c")}D(fr,G);var je={},ys=null;function on(){return ys=ys||new W}je.La="serverreachability";function Is(t){G.call(this,je.La,t)}D(Is,G);function St(t){let s=on();Q(s,new Is(s))}je.STAT_EVENT="statevent";function vs(t,s){G.call(this,je.STAT_EVENT,t),this.stat=s}D(vs,G);function J(t){let s=on();Q(s,new vs(s,t))}je.Ma="timingevent";function Es(t,s){G.call(this,je.Ma,t),this.size=s}D(Es,G);function Rt(t,s){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){t()},s)}function Pt(){this.g=!0}Pt.prototype.xa=function(){this.g=!1};function Bc(t,s,a,u,_,E){t.info(function(){if(t.g)if(E)for(var A="",O=E.split("&"),B=0;B<O.length;B++){var k=O[B].split("=");if(1<k.length){var K=k[0];k=k[1];var H=K.split("_");A=2<=H.length&&H[1]=="type"?A+(K+"="+k+"&"):A+(K+"=redacted&")}}else A=null;else A=E;return"XMLHTTP REQ ("+u+") [attempt "+_+"]: "+s+`
`+a+`
`+A})}function qc(t,s,a,u,_,E,A){t.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+_+"]: "+s+`
`+a+`
`+E+" "+A})}function ot(t,s,a,u){t.info(function(){return"XMLHTTP TEXT ("+s+"): "+jc(t,a)+(u?" "+u:"")})}function $c(t,s){t.info(function(){return"TIMEOUT: "+s})}Pt.prototype.info=function(){};function jc(t,s){if(!t.g)return s;if(!s)return null;try{var a=JSON.parse(s);if(a){for(t=0;t<a.length;t++)if(Array.isArray(a[t])){var u=a[t];if(!(2>u.length)){var _=u[1];if(Array.isArray(_)&&!(1>_.length)){var E=_[0];if(E!="noop"&&E!="stop"&&E!="close")for(var A=1;A<_.length;A++)_[A]=""}}}}return lr(a)}catch{return s}}var an={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ws={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function cn(){}D(cn,hr),cn.prototype.g=function(){return new XMLHttpRequest},cn.prototype.i=function(){return{}},pr=new cn;function Re(t,s,a,u){this.j=t,this.i=s,this.l=a,this.R=u||1,this.U=new At(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}var As={},mr={};function gr(t,s,a){t.L=1,t.v=dn(_e(s)),t.m=a,t.P=!0,bs(t,null)}function bs(t,s){t.F=Date.now(),un(t),t.A=_e(t.v);var a=t.A,u=t.R;Array.isArray(u)||(u=[String(u)]),Us(a.i,"t",u),t.C=0,a=t.j.J,t.h=new Ts,t.g=ro(t.j,a?s:null,!t.m),0<t.O&&(t.M=new Mc(R(t.Y,t,t.g),t.O)),s=t.U,a=t.g,u=t.ca;var _="readystatechange";Array.isArray(_)||(_&&(ps[0]=_.toString()),_=ps);for(var E=0;E<_.length;E++){var A=as(a,_[E],u||s.handleEvent,!1,s.h||s);if(!A)break;s.g[A.key]=A}s=t.H?h(t.H):{},t.m?(t.u||(t.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,s)):(t.u="GET",t.g.ea(t.A,t.u,null,s)),St(),Bc(t.i,t.u,t.A,t.l,t.R,t.m)}Re.prototype.ca=function(t){t=t.target;let s=this.M;s&&ye(t)==3?s.j():this.Y(t)},Re.prototype.Y=function(t){try{if(t==this.g)e:{let H=ye(this.g);var s=this.g.Ba();let ut=this.g.Z();if(!(3>H)&&(H!=3||this.g&&(this.h.h||this.g.oa()||Ws(this.g)))){this.J||H!=4||s==7||(s==8||0>=ut?St(3):St(2)),_r(this);var a=this.g.Z();this.X=a;t:if(Ss(this)){var u=Ws(this.g);t="";var _=u.length,E=ye(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Ct(this);var A="";break t}this.h.i=new p.TextDecoder}for(s=0;s<_;s++)this.h.h=!0,t+=this.h.i.decode(u[s],{stream:!(E&&s==_-1)});u.length=0,this.h.g+=t,this.C=0,A=this.h.g}else A=this.g.oa();if(this.o=a==200,qc(this.i,this.u,this.A,this.l,this.R,H,a),this.o){if(this.T&&!this.K){t:{if(this.g){var O,B=this.g;if((O=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(O)){var k=O;break t}}k=null}if(a=k)ot(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yr(this,a);else{this.o=!1,this.s=3,J(12),ze(this),Ct(this);break e}}if(this.P){a=!0;let ce;for(;!this.J&&this.C<A.length;)if(ce=zc(this,A),ce==mr){H==4&&(this.s=4,J(14),a=!1),ot(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==As){this.s=4,J(15),ot(this.i,this.l,A,"[Invalid Chunk]"),a=!1;break}else ot(this.i,this.l,ce,null),yr(this,ce);if(Ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),H!=4||A.length!=0||this.h.h||(this.s=1,J(16),a=!1),this.o=this.o&&a,!a)ot(this.i,this.l,A,"[Invalid Chunked Response]"),ze(this),Ct(this);else if(0<A.length&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.ba&&!K.M&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Ar(K),K.M=!0,J(11))}}else ot(this.i,this.l,A,null),yr(this,A);H==4&&ze(this),this.o&&!this.J&&(H==4?Zs(this.j,this):(this.o=!1,un(this)))}else au(this.g),a==400&&0<A.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),ze(this),Ct(this)}}}catch{}finally{}};function Ss(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function zc(t,s){var a=t.C,u=s.indexOf(`
`,a);return u==-1?mr:(a=Number(s.substring(a,u)),isNaN(a)?As:(u+=1,u+a>s.length?mr:(s=s.slice(u,u+a),t.C=u+a,s)))}Re.prototype.cancel=function(){this.J=!0,ze(this)};function un(t){t.S=Date.now()+t.I,Rs(t,t.I)}function Rs(t,s){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Rt(R(t.ba,t),s)}function _r(t){t.B&&(p.clearTimeout(t.B),t.B=null)}Re.prototype.ba=function(){this.B=null;let t=Date.now();0<=t-this.S?($c(this.i,this.A),this.L!=2&&(St(),J(17)),ze(this),this.s=2,Ct(this)):Rs(this,this.S-t)};function Ct(t){t.j.G==0||t.J||Zs(t.j,t)}function ze(t){_r(t);var s=t.M;s&&typeof s.ma=="function"&&s.ma(),t.M=null,ms(t.U),t.g&&(s=t.g,t.g=null,s.abort(),s.ma())}function yr(t,s){try{var a=t.j;if(a.G!=0&&(a.g==t||Ir(a.h,t))){if(!t.K&&Ir(a.h,t)&&a.G==3){try{var u=a.Da.g.parse(s)}catch{u=null}if(Array.isArray(u)&&u.length==3){var _=u;if(_[0]==0){e:if(!a.u){if(a.g)if(a.g.F+3e3<t.F)_n(a),mn(a);else break e;Tr(a),J(18)}}else a.za=_[1],0<a.za-a.T&&37500>_[2]&&a.F&&a.v==0&&!a.C&&(a.C=Rt(R(a.Za,a),6e3));if(1>=Ds(a.h)&&a.ca){try{a.ca()}catch{}a.ca=void 0}}else We(a,11)}else if((t.K||a.g==t)&&_n(a),!te(s))for(_=a.Da.g.parse(s),s=0;s<_.length;s++){let k=_[s];if(a.T=k[0],k=k[1],a.G==2)if(k[0]=="c"){a.K=k[1],a.ia=k[2];let K=k[3];K!=null&&(a.la=K,a.j.info("VER="+a.la));let H=k[4];H!=null&&(a.Aa=H,a.j.info("SVER="+a.Aa));let ut=k[5];ut!=null&&typeof ut=="number"&&0<ut&&(u=1.5*ut,a.L=u,a.j.info("backChannelRequestTimeoutMs_="+u)),u=a;let ce=t.g;if(ce){let In=ce.g?ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(In){var E=u.h;E.g||In.indexOf("spdy")==-1&&In.indexOf("quic")==-1&&In.indexOf("h2")==-1||(E.j=E.l,E.g=new Set,E.h&&(vr(E,E.h),E.h=null))}if(u.D){let br=ce.g?ce.g.getResponseHeader("X-HTTP-Session-Id"):null;br&&(u.ya=br,x(u.I,u.D,br))}}a.G=3,a.l&&a.l.ua(),a.ba&&(a.R=Date.now()-t.F,a.j.info("Handshake RTT: "+a.R+"ms")),u=a;var A=t;if(u.qa=no(u,u.J?u.ia:null,u.W),A.K){ks(u.h,A);var O=A,B=u.L;B&&(O.I=B),O.B&&(_r(O),un(O)),u.g=A}else Ys(u);0<a.i.length&&gn(a)}else k[0]!="stop"&&k[0]!="close"||We(a,7);else a.G==3&&(k[0]=="stop"||k[0]=="close"?k[0]=="stop"?We(a,7):wr(a):k[0]!="noop"&&a.l&&a.l.ta(k),a.v=0)}}St(4)}catch{}}var Gc=class{constructor(t,s){this.g=t,this.map=s}};function Ps(t){this.l=t||10,p.PerformanceNavigationTiming?(t=p.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cs(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ds(t){return t.h?1:t.g?t.g.size:0}function Ir(t,s){return t.h?t.h==s:t.g?t.g.has(s):!1}function vr(t,s){t.g?t.g.add(s):t.h=s}function ks(t,s){t.h&&t.h==s?t.h=null:t.g&&t.g.has(s)&&t.g.delete(s)}Ps.prototype.cancel=function(){if(this.i=Ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Ns(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let s=t.i;for(let a of t.g.values())s=s.concat(a.D);return s}return F(t.i)}function Wc(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(v(t)){for(var s=[],a=t.length,u=0;u<a;u++)s.push(t[u]);return s}s=[],a=0;for(u in t)s[a++]=t[u];return s}function Kc(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(v(t)||typeof t=="string"){var s=[];t=t.length;for(var a=0;a<t;a++)s.push(a);return s}s=[],a=0;for(let u in t)s[a++]=u;return s}}}function Os(t,s){if(t.forEach&&typeof t.forEach=="function")t.forEach(s,void 0);else if(v(t)||typeof t=="string")Array.prototype.forEach.call(t,s,void 0);else for(var a=Kc(t),u=Wc(t),_=u.length,E=0;E<_;E++)s.call(void 0,u[E],a&&a[E],t)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hc(t,s){if(t){t=t.split("&");for(var a=0;a<t.length;a++){var u=t[a].indexOf("="),_=null;if(0<=u){var E=t[a].substring(0,u);_=t[a].substring(u+1)}else E=t[a];s(E,_?decodeURIComponent(_.replace(/\+/g," ")):"")}}}function Ge(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof Ge){this.h=t.h,ln(this,t.j),this.o=t.o,this.g=t.g,hn(this,t.s),this.l=t.l;var s=t.i,a=new Nt;a.i=s.i,s.g&&(a.g=new Map(s.g),a.h=s.h),Vs(this,a),this.m=t.m}else t&&(s=String(t).match(xs))?(this.h=!1,ln(this,s[1]||"",!0),this.o=Dt(s[2]||""),this.g=Dt(s[3]||"",!0),hn(this,s[4]),this.l=Dt(s[5]||"",!0),Vs(this,s[6]||"",!0),this.m=Dt(s[7]||"")):(this.h=!1,this.i=new Nt(null,this.h))}Ge.prototype.toString=function(){var t=[],s=this.j;s&&t.push(kt(s,Ls,!0),":");var a=this.g;return(a||s=="file")&&(t.push("//"),(s=this.o)&&t.push(kt(s,Ls,!0),"@"),t.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.s,a!=null&&t.push(":",String(a))),(a=this.l)&&(this.g&&a.charAt(0)!="/"&&t.push("/"),t.push(kt(a,a.charAt(0)=="/"?Yc:Jc,!0))),(a=this.i.toString())&&t.push("?",a),(a=this.m)&&t.push("#",kt(a,Zc)),t.join("")};function _e(t){return new Ge(t)}function ln(t,s,a){t.j=a?Dt(s,!0):s,t.j&&(t.j=t.j.replace(/:$/,""))}function hn(t,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);t.s=s}else t.s=null}function Vs(t,s,a){s instanceof Nt?(t.i=s,eu(t.i,t.h)):(a||(s=kt(s,Xc)),t.i=new Nt(s,t.h))}function x(t,s,a){t.i.set(s,a)}function dn(t){return x(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dt(t,s){return t?s?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kt(t,s,a){return typeof t=="string"?(t=encodeURI(t).replace(s,Qc),a&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qc(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ls=/[#\/\?@]/g,Jc=/[#\?:]/g,Yc=/[#\?]/g,Xc=/[#\?@]/g,Zc=/#/g;function Nt(t,s){this.h=this.g=null,this.i=t||null,this.j=!!s}function Pe(t){t.g||(t.g=new Map,t.h=0,t.i&&Hc(t.i,function(s,a){t.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}r=Nt.prototype,r.add=function(t,s){Pe(this),this.i=null,t=at(this,t);var a=this.g.get(t);return a||this.g.set(t,a=[]),a.push(s),this.h+=1,this};function Ms(t,s){Pe(t),s=at(t,s),t.g.has(s)&&(t.i=null,t.h-=t.g.get(s).length,t.g.delete(s))}function Fs(t,s){return Pe(t),s=at(t,s),t.g.has(s)}r.forEach=function(t,s){Pe(this),this.g.forEach(function(a,u){a.forEach(function(_){t.call(s,_,u,this)},this)},this)},r.na=function(){Pe(this);let t=Array.from(this.g.values()),s=Array.from(this.g.keys()),a=[];for(let u=0;u<s.length;u++){let _=t[u];for(let E=0;E<_.length;E++)a.push(s[u])}return a},r.V=function(t){Pe(this);let s=[];if(typeof t=="string")Fs(this,t)&&(s=s.concat(this.g.get(at(this,t))));else{t=Array.from(this.g.values());for(let a=0;a<t.length;a++)s=s.concat(t[a])}return s},r.set=function(t,s){return Pe(this),this.i=null,t=at(this,t),Fs(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[s]),this.h+=1,this},r.get=function(t,s){return t?(t=this.V(t),0<t.length?String(t[0]):s):s};function Us(t,s,a){Ms(t,s),0<a.length&&(t.i=null,t.g.set(at(t,s),F(a)),t.h+=a.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],s=Array.from(this.g.keys());for(var a=0;a<s.length;a++){var u=s[a];let E=encodeURIComponent(String(u)),A=this.V(u);for(u=0;u<A.length;u++){var _=E;A[u]!==""&&(_+="="+encodeURIComponent(String(A[u]))),t.push(_)}}return this.i=t.join("&")};function at(t,s){return s=String(s),t.j&&(s=s.toLowerCase()),s}function eu(t,s){s&&!t.j&&(Pe(t),t.i=null,t.g.forEach(function(a,u){var _=u.toLowerCase();u!=_&&(Ms(this,u),Us(this,_,a))},t)),t.j=s}function tu(t,s){let a=new Pt;if(p.Image){let u=new Image;u.onload=M(Ce,a,"TestLoadImage: loaded",!0,s,u),u.onerror=M(Ce,a,"TestLoadImage: error",!1,s,u),u.onabort=M(Ce,a,"TestLoadImage: abort",!1,s,u),u.ontimeout=M(Ce,a,"TestLoadImage: timeout",!1,s,u),p.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=t}else s(!1)}function nu(t,s){let a=new Pt,u=new AbortController,_=setTimeout(()=>{u.abort(),Ce(a,"TestPingServer: timeout",!1,s)},1e4);fetch(t,{signal:u.signal}).then(E=>{clearTimeout(_),E.ok?Ce(a,"TestPingServer: ok",!0,s):Ce(a,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(_),Ce(a,"TestPingServer: error",!1,s)})}function Ce(t,s,a,u,_){try{_&&(_.onload=null,_.onerror=null,_.onabort=null,_.ontimeout=null),u(a)}catch{}}function ru(){this.g=new Uc}function iu(t,s,a){let u=a||"";try{Os(t,function(_,E){let A=_;T(_)&&(A=lr(_)),s.push(u+E+"="+encodeURIComponent(A))})}catch(_){throw s.push(u+"type="+encodeURIComponent("_badmap")),_}}function Ot(t){this.l=t.Ub||null,this.j=t.eb||!1}D(Ot,hr),Ot.prototype.g=function(){return new fn(this.l,this.j)},Ot.prototype.i=function(t){return function(){return t}}({});function fn(t,s){W.call(this),this.D=t,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(fn,W),r=fn.prototype,r.open=function(t,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=s,this.readyState=1,Vt(this)},r.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(s.body=t),(this.D||p).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xt(this)),this.readyState=0},r.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}r.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var s=t.value?t.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!t.done}))&&(this.response=this.responseText+=s)}t.done?xt(this):Vt(this),this.readyState==3&&Bs(this)}},r.Ra=function(t){this.g&&(this.response=this.responseText=t,xt(this))},r.Qa=function(t){this.g&&(this.response=t,xt(this))},r.ga=function(){this.g&&xt(this)};function xt(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Vt(t)}r.setRequestHeader=function(t,s){this.u.append(t,s)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],s=this.h.entries();for(var a=s.next();!a.done;)a=a.value,t.push(a[0]+": "+a[1]),a=s.next();return t.join(`\r
`)};function Vt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function qs(t){let s="";return Z(t,function(a,u){s+=u,s+=":",s+=a,s+=`\r
`}),s}function Er(t,s,a){e:{for(u in a){var u=!1;break e}u=!0}u||(a=qs(a),typeof t=="string"?a!=null&&encodeURIComponent(String(a)):x(t,s,a))}function L(t){W.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(L,W);var su=/^https?$/i,ou=["POST","PUT"];r=L.prototype,r.Ha=function(t){this.J=t},r.ea=function(t,s,a,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);s=s?s.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?gs(this.o):gs(pr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(s,String(t),!0),this.B=!1}catch(E){$s(this,E);return}if(t=a||"",a=new Map(this.headers),u)if(Object.getPrototypeOf(u)===Object.prototype)for(var _ in u)a.set(_,u[_]);else if(typeof u.keys=="function"&&typeof u.get=="function")for(let E of u.keys())a.set(E,u.get(E));else throw Error("Unknown input type for opt_headers: "+String(u));u=Array.from(a.keys()).find(E=>E.toLowerCase()=="content-type"),_=p.FormData&&t instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ou,s,void 0))||u||_||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[E,A]of a)this.g.setRequestHeader(E,A);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(t),this.u=!1}catch(E){$s(this,E)}};function $s(t,s){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=s,t.m=5,js(t),pn(t)}function js(t){t.A||(t.A=!0,Q(t,"complete"),Q(t,"error"))}r.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,Q(this,"complete"),Q(this,"abort"),pn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),L.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zs(this):this.bb())},r.bb=function(){zs(this)};function zs(t){if(t.h&&typeof l<"u"&&(!t.v[1]||ye(t)!=4||t.Z()!=2)){if(t.u&&ye(t)==4)ds(t.Ea,0,t);else if(Q(t,"readystatechange"),ye(t)==4){t.h=!1;try{let A=t.Z();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break e;default:s=!1}var a;if(!(a=s)){var u;if(u=A===0){var _=String(t.D).match(xs)[1]||null;!_&&p.self&&p.self.location&&(_=p.self.location.protocol.slice(0,-1)),u=!su.test(_?_.toLowerCase():"")}a=u}if(a)Q(t,"complete"),Q(t,"success");else{t.m=6;try{var E=2<ye(t)?t.g.statusText:""}catch{E=""}t.l=E+" ["+t.Z()+"]",js(t)}}finally{pn(t)}}}}function pn(t,s){if(t.g){Gs(t);let a=t.g,u=t.v[0]?()=>{}:null;t.g=null,t.v=null,s||Q(t,"ready");try{a.onreadystatechange=u}catch{}}}function Gs(t){t.I&&(p.clearTimeout(t.I),t.I=null)}r.isActive=function(){return!!this.g};function ye(t){return t.g?t.g.readyState:0}r.Z=function(){try{return 2<ye(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(t){if(this.g){var s=this.g.responseText;return t&&s.indexOf(t)==0&&(s=s.substring(t.length)),Fc(s)}};function Ws(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function au(t){let s={};t=(t.g&&2<=ye(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let u=0;u<t.length;u++){if(te(t[u]))continue;var a=g(t[u]);let _=a[0];if(a=a[1],typeof a!="string")continue;a=a.trim();let E=s[_]||[];s[_]=E,E.push(a)}y(s,function(u){return u.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lt(t,s,a){return a&&a.internalChannelParams&&a.internalChannelParams[t]||s}function Ks(t){this.Aa=0,this.i=[],this.j=new Pt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lt("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lt("baseRetryDelayMs",5e3,t),this.cb=Lt("retryDelaySeedMs",1e4,t),this.Wa=Lt("forwardChannelMaxRetries",2,t),this.wa=Lt("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Ps(t&&t.concurrentRequestLimit),this.Da=new ru,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ks.prototype,r.la=8,r.G=1,r.connect=function(t,s,a,u){J(0),this.W=t,this.H=s||{},a&&u!==void 0&&(this.H.OSID=a,this.H.OAID=u),this.F=this.X,this.I=no(this,null,this.W),gn(this)};function wr(t){if(Hs(t),t.G==3){var s=t.U++,a=_e(t.I);if(x(a,"SID",t.K),x(a,"RID",s),x(a,"TYPE","terminate"),Mt(t,a),s=new Re(t,t.j,s),s.L=2,s.v=dn(_e(a)),a=!1,p.navigator&&p.navigator.sendBeacon)try{a=p.navigator.sendBeacon(s.v.toString(),"")}catch{}!a&&p.Image&&(new Image().src=s.v,a=!0),a||(s.g=ro(s.j,null),s.g.ea(s.v)),s.F=Date.now(),un(s)}to(t)}function mn(t){t.g&&(Ar(t),t.g.cancel(),t.g=null)}function Hs(t){mn(t),t.u&&(p.clearTimeout(t.u),t.u=null),_n(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&p.clearTimeout(t.s),t.s=null)}function gn(t){if(!Cs(t.h)&&!t.s){t.s=!0;var s=t.Ga;vt||os(),Et||(vt(),Et=!0),tr.add(s,t),t.B=0}}function cu(t,s){return Ds(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=s.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=Rt(R(t.Ga,t,s),eo(t,t.B)),t.B++,!0)}r.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;let _=new Re(this,this.j,t),E=this.o;if(this.S&&(E?(E=h(E),m(E,this.S)):E=this.S),this.m!==null||this.O||(_.H=E,E=null),this.P)e:{for(var s=0,a=0;a<this.i.length;a++){t:{var u=this.i[a];if("__data__"in u.map&&(u=u.map.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(s+=u,4096<s){s=a;break e}if(s===4096||a===this.i.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=Js(this,_,s),a=_e(this.I),x(a,"RID",t),x(a,"CVER",22),this.D&&x(a,"X-HTTP-Session-Id",this.D),Mt(this,a),E&&(this.O?s="headers="+encodeURIComponent(String(qs(E)))+"&"+s:this.m&&Er(a,this.m,E)),vr(this.h,_),this.Ua&&x(a,"TYPE","init"),this.P?(x(a,"$req",s),x(a,"SID","null"),_.T=!0,gr(_,a,null)):gr(_,a,s),this.G=2}}else this.G==3&&(t?Qs(this,t):this.i.length==0||Cs(this.h)||Qs(this))};function Qs(t,s){var a;s?a=s.l:a=t.U++;let u=_e(t.I);x(u,"SID",t.K),x(u,"RID",a),x(u,"AID",t.T),Mt(t,u),t.m&&t.o&&Er(u,t.m,t.o),a=new Re(t,t.j,a,t.B+1),t.m===null&&(a.H=t.o),s&&(t.i=s.D.concat(t.i)),s=Js(t,a,1e3),a.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),vr(t.h,a),gr(a,u,s)}function Mt(t,s){t.H&&Z(t.H,function(a,u){x(s,u,a)}),t.l&&Os({},function(a,u){x(s,u,a)})}function Js(t,s,a){a=Math.min(t.i.length,a);var u=t.l?R(t.l.Na,t.l,t):null;e:{var _=t.i;let E=-1;for(;;){let A=["count="+a];E==-1?0<a?(E=_[0].g,A.push("ofs="+E)):E=0:A.push("ofs="+E);let O=!0;for(let B=0;B<a;B++){let k=_[B].g,K=_[B].map;if(k-=E,0>k)E=Math.max(0,_[B].g-100),O=!1;else try{iu(K,A,"req"+k+"_")}catch{u&&u(K)}}if(O){u=A.join("&");break e}}}return t=t.i.splice(0,a),s.D=t,u}function Ys(t){if(!t.g&&!t.u){t.Y=1;var s=t.Fa;vt||os(),Et||(vt(),Et=!0),tr.add(s,t),t.v=0}}function Tr(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=Rt(R(t.Fa,t),eo(t,t.v)),t.v++,!0)}r.Fa=function(){if(this.u=null,Xs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Rt(R(this.ab,this),t)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),mn(this),Xs(this))};function Ar(t){t.A!=null&&(p.clearTimeout(t.A),t.A=null)}function Xs(t){t.g=new Re(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var s=_e(t.qa);x(s,"RID","rpc"),x(s,"SID",t.K),x(s,"AID",t.T),x(s,"CI",t.F?"0":"1"),!t.F&&t.ja&&x(s,"TO",t.ja),x(s,"TYPE","xmlhttp"),Mt(t,s),t.m&&t.o&&Er(s,t.m,t.o),t.L&&(t.g.I=t.L);var a=t.g;t=t.ia,a.L=1,a.v=dn(_e(s)),a.m=null,a.P=!0,bs(a,t)}r.Za=function(){this.C!=null&&(this.C=null,mn(this),Tr(this),J(19))};function _n(t){t.C!=null&&(p.clearTimeout(t.C),t.C=null)}function Zs(t,s){var a=null;if(t.g==s){_n(t),Ar(t),t.g=null;var u=2}else if(Ir(t.h,s))a=s.D,ks(t.h,s),u=1;else return;if(t.G!=0){if(s.o)if(u==1){a=s.m?s.m.length:0,s=Date.now()-s.F;var _=t.B;u=on(),Q(u,new Es(u,a)),gn(t)}else Ys(t);else if(_=s.s,_==3||_==0&&0<s.X||!(u==1&&cu(t,s)||u==2&&Tr(t)))switch(a&&0<a.length&&(s=t.h,s.i=s.i.concat(a)),_){case 1:We(t,5);break;case 4:We(t,10);break;case 3:We(t,6);break;default:We(t,2)}}}function eo(t,s){let a=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(a*=2),a*s}function We(t,s){if(t.j.info("Error code "+s),s==2){var a=R(t.fb,t),u=t.Xa;let _=!u;u=new Ge(u||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ln(u,"https"),dn(u),_?tu(u.toString(),a):nu(u.toString(),a)}else J(2);t.G=0,t.l&&t.l.sa(s),to(t),Hs(t)}r.fb=function(t){t?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function to(t){if(t.G=0,t.ka=[],t.l){let s=Ns(t.h);(s.length!=0||t.i.length!=0)&&(V(t.ka,s),V(t.ka,t.i),t.h.i.length=0,F(t.i),t.i.length=0),t.l.ra()}}function no(t,s,a){var u=a instanceof Ge?_e(a):new Ge(a);if(u.g!="")s&&(u.g=s+"."+u.g),hn(u,u.s);else{var _=p.location;u=_.protocol,s=s?s+"."+_.hostname:_.hostname,_=+_.port;var E=new Ge(null);u&&ln(E,u),s&&(E.g=s),_&&hn(E,_),a&&(E.l=a),u=E}return a=t.D,s=t.ya,a&&s&&x(u,a,s),x(u,"VER",t.la),Mt(t,u),u}function ro(t,s,a){if(s&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=t.Ca&&!t.pa?new L(new Ot({eb:a})):new L(t.pa),s.Ha(t.J),s}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function io(){}r=io.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function yn(){}yn.prototype.g=function(t,s){return new ne(t,s)};function ne(t,s){W.call(this),this.g=new Ks(s),this.l=t,this.h=s&&s.messageUrlParams||null,t=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(t?t["X-WebChannel-Content-Type"]=s.messageContentType:t={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(t?t["X-WebChannel-Client-Profile"]=s.va:t={"X-WebChannel-Client-Profile":s.va}),this.g.S=t,(t=s&&s.Sb)&&!te(t)&&(this.g.m=t),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!te(s)&&(this.g.D=s,t=this.h,t!==null&&s in t&&(t=this.h,s in t&&delete t[s])),this.j=new ct(this)}D(ne,W),ne.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ne.prototype.close=function(){wr(this.g)},ne.prototype.o=function(t){var s=this.g;if(typeof t=="string"){var a={};a.__data__=t,t=a}else this.u&&(a={},a.__data__=lr(t),t=a);s.i.push(new Gc(s.Ya++,t)),s.G==3&&gn(s)},ne.prototype.N=function(){this.g.l=null,delete this.j,wr(this.g),delete this.g,ne.aa.N.call(this)};function so(t){dr.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var s=t.__sm__;if(s){e:{for(let a in s){t=a;break e}t=void 0}(this.i=t)&&(t=this.i,s=s!==null&&t in s?s[t]:void 0),this.data=s}else this.data=t}D(so,dr);function oo(){fr.call(this),this.status=1}D(oo,fr);function ct(t){this.g=t}D(ct,io),ct.prototype.ua=function(){Q(this.g,"a")},ct.prototype.ta=function(t){Q(this.g,new so(t))},ct.prototype.sa=function(t){Q(this.g,new oo)},ct.prototype.ra=function(){Q(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,ne.prototype.send=ne.prototype.o,ne.prototype.open=ne.prototype.m,ne.prototype.close=ne.prototype.close,mc=be.createWebChannelTransport=function(){return new yn},pc=be.getStatEventTarget=function(){return on()},fc=be.Event=je,dc=be.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,hc=be.ErrorCode=an,ws.COMPLETE="complete",lc=be.EventType=ws,_s.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",W.prototype.listen=W.prototype.K,uc=be.WebChannel=_s,cf=be.FetchXmlHttpFactory=Ot,L.prototype.listenOnce=L.prototype.L,L.prototype.getLastError=L.prototype.Ka,L.prototype.getLastErrorCode=L.prototype.Ba,L.prototype.getStatus=L.prototype.Z,L.prototype.getResponseJson=L.prototype.Oa,L.prototype.getResponseText=L.prototype.oa,L.prototype.send=L.prototype.ea,L.prototype.setWithCredentials=L.prototype.Ha,cc=be.XhrIo=L}).apply(typeof Wn<"u"?Wn:typeof self<"u"?self:typeof window<"u"?window:{});var gc="@firebase/firestore";var $=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$.UNAUTHENTICATED=new $(null),$.GOOGLE_CREDENTIALS=new $("google-credentials-uid"),$.FIRST_PARTY=new $("first-party-uid"),$.MOCK_USER=new $("mock-user");var en="11.0.2";var gt=new xe("@firebase/firestore");function ue(r,...e){if(gt.logLevel<=N.DEBUG){let n=e.map(rs);gt.debug(`Firestore (${en}): ${r}`,...n)}}function Ec(r,...e){if(gt.logLevel<=N.ERROR){let n=e.map(rs);gt.error(`Firestore (${en}): ${r}`,...n)}}function uf(r,...e){if(gt.logLevel<=N.WARN){let n=e.map(rs);gt.warn(`Firestore (${en}): ${r}`,...n)}}function rs(r){if(typeof r=="string")return r;try{return function(n){return JSON.stringify(n)}(r)}catch{return r}}function ee(r="Unexpected state"){let e=`FIRESTORE (${en}) INTERNAL ASSERTION FAILED: `+r;throw Ec(e),new Error(e)}function rt(r,e){r||ee()}var X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends re{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var it=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Kn=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ji=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($.UNAUTHENTICATED))}shutdown(){}},zi=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Gi=class{constructor(e){this.t=e,this.currentUser=$.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0);let i=this.i,o=v=>this.i!==i?(i=this.i,n(v)):Promise.resolve(),c=new it;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new it,e.enqueueRetryable(()=>o(this.currentUser))};let l=()=>{let v=c;e.enqueueRetryable(()=>w(this,null,function*(){yield v.promise,yield o(this.currentUser)}))},p=v=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){let v=this.t.getImmediate({optional:!0});v?p(v):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new it)}},0),l()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string"),new Kn(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new $(e)}},Wi=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=$.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},Ki=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Wi(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Hi=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Qi=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){rt(this.o===void 0);let i=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);let l=c.token!==this.R;return this.R=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};let o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){let c=this.A.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new Hi(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function wc(r,e){return r<e?-1:r>e?1:0}var Ji=class r{constructor(e,n,i){n===void 0?n=0:n>e.length&&ee(),i===void 0?i=e.length-n:i>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return r.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof r?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let o=0;o<i;o++){let c=e.get(o),l=n.get(o);if(c<l)return-1;if(c>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},qe=class r extends Ji{construct(e,n,i){return new r(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new j(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new r(n)}static emptyPath(){return new r([])}};var st=class r{constructor(e){this.path=e}static fromPath(e){return new r(qe.fromString(e))}static fromName(e){return new r(qe.fromString(e).popFirst(5))}static empty(){return new r(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new r(new qe(e.slice()))}};var Yi=class{constructor(e,n,i,o){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=o}};Yi.UNKNOWN_ID=-1;function lf(r){return r.name==="IndexedDbTransactionError"}function hf(r){return r===0&&1/r==-1/0}var df=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tg=[...df,"documentOverlays"],ff=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pf=ff,mf=[...pf,"indexConfiguration","indexState","indexEntries"];var ng=[...mf,"globals"];var _t=class r{constructor(e,n){this.comparator=e,this.root=n||pe.EMPTY}insert(e,n){return new r(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pe.BLACK,null,null))}remove(e){return new r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mt(this.root,e,this.comparator,!1)}getReverseIterator(){return new mt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mt(this.root,e,this.comparator,!0)}},mt=class{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pe=class r{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??r.RED,this.left=o??r.EMPTY,this.right=c??r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new r(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this,c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return r.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};pe.EMPTY=null,pe.RED=!0,pe.BLACK=!1;pe.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,i,o,c){return this}insert(e,n,i){return new pe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Hn=class r{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qn(this.data.getIterator())}getIteratorFrom(e){return new Qn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new r(this.comparator);return n.data=e,n}},Qn=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xi=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class r{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Xi("Invalid base64 string: "+c):c}}(e);return new r(n)}static fromUint8Array(e){let n=function(o){let c="";for(let l=0;l<o.length;++l)c+=String.fromCharCode(o[l]);return c}(e);return new r(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var gf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _f(r){if(rt(!!r),typeof r=="string"){let e=0,n=gf.exec(r);if(rt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}let i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zt(r.seconds),nanos:Zt(r.nanos)}}function Zt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yf(r){return typeof r=="string"?yt.fromBase64String(r):yt.fromUint8Array(r)}var Zi=class r{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new r("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof r&&e.projectId===this.projectId&&e.database===this.database}};function If(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vf(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ig=new _t(st.comparator);var sg=new _t(st.comparator);var og=new _t(st.comparator),ag=new Hn(st.comparator);var cg=new Hn(wc);var _c,P;(P=_c||(_c={}))[P.OK=0]="OK",P[P.CANCELLED=1]="CANCELLED",P[P.UNKNOWN=2]="UNKNOWN",P[P.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",P[P.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",P[P.NOT_FOUND=5]="NOT_FOUND",P[P.ALREADY_EXISTS=6]="ALREADY_EXISTS",P[P.PERMISSION_DENIED=7]="PERMISSION_DENIED",P[P.UNAUTHENTICATED=16]="UNAUTHENTICATED",P[P.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",P[P.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",P[P.ABORTED=10]="ABORTED",P[P.OUT_OF_RANGE=11]="OUT_OF_RANGE",P[P.UNIMPLEMENTED=12]="UNIMPLEMENTED",P[P.INTERNAL=13]="INTERNAL",P[P.UNAVAILABLE=14]="UNAVAILABLE",P[P.DATA_LOSS=15]="DATA_LOSS";var ug=new qi([4294967295,4294967295],0);var Jn=class{constructor(){}Et(e,n){this.dt(e,n),n.At()}dt(e,n){if("nullValue"in e)this.Rt(n,5);else if("booleanValue"in e)this.Rt(n,10),n.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(n,15),n.Vt(Zt(e.integerValue));else if("doubleValue"in e){let i=Zt(e.doubleValue);isNaN(i)?this.Rt(n,13):(this.Rt(n,15),hf(i)?n.Vt(0):n.Vt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Rt(n,20),typeof i=="string"&&(i=_f(i)),n.ft(`${i.seconds||""}`),n.Vt(i.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,n),this.yt(n);else if("bytesValue"in e)this.Rt(n,30),n.wt(yf(e.bytesValue)),this.yt(n);else if("referenceValue"in e)this.St(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Rt(n,45),n.Vt(i.latitude||0),n.Vt(i.longitude||0)}else"mapValue"in e?vf(e)?this.Rt(n,Number.MAX_SAFE_INTEGER):If(e)?this.bt(e.mapValue,n):(this.Dt(e.mapValue,n),this.yt(n)):"arrayValue"in e?(this.vt(e.arrayValue,n),this.yt(n)):ee()}gt(e,n){this.Rt(n,25),this.Ct(e,n)}Ct(e,n){n.ft(e)}Dt(e,n){let i=e.fields||{};this.Rt(n,55);for(let o of Object.keys(i))this.gt(o,n),this.dt(i[o],n)}bt(e,n){var i,o;let c=e.fields||{};this.Rt(n,53);let l="value",p=((o=(i=c[l].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.length)||0;this.Rt(n,15),n.Vt(Zt(p)),this.gt(l,n),this.dt(c[l],n)}vt(e,n){let i=e.values||[];this.Rt(n,50);for(let o of i)this.dt(o,n)}St(e,n){this.Rt(n,37),st.fromName(e).path.forEach(i=>{this.Rt(n,60),this.Ct(i,n)})}Rt(e,n){e.Vt(n)}yt(e){e.Vt(2)}};Jn.Ft=new Jn;var lg=new Uint8Array(0);var fe=class r{static withCacheSize(e){return new r(e,r.DEFAULT_COLLECTION_PERCENTILE,r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}};fe.DEFAULT_COLLECTION_PERCENTILE=10,fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fe.DEFAULT=new fe(41943040,fe.DEFAULT_COLLECTION_PERCENTILE,fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fe.DISABLED=new fe(-1,0,0);function $i(){return typeof document<"u"?document:null}var es=class{constructor(e,n,i=1e3,o=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=i,this.Ko=o,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let n=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}};var ts=class r{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new it,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){let l=Date.now()+i,p=new r(e,n,l,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var yc,Ic;(Ic=yc||(yc={})).na="default",Ic.Cache="cache";function Ef(r){let e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}var vc=new Map;function wf(r,e,n,i){if(e===!0&&i===!0)throw new j(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ee()}function Af(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new j(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Tf(r);throw new j(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}var Yn=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new j(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ef((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new j(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new j(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new j(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xn=class{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yn({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yn(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ji;switch(i.type){case"firstParty":return new Ki(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new j(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=vc.get(n);i&&(ue("ComponentProvider","Removing Datastore"),vc.delete(n),i.terminate())}(this),Promise.resolve()}};function Tc(r,e,n,i={}){var o;let c=(r=Af(r,Xn))._getSettings(),l=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==l&&uf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:l,ssl:!1})),i.mockUserToken){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=$.MOCK_USER;else{p=$o(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);let T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new j(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new $(T)}r._authCredentials=new zi(new Kn(p,v))}}var Zn=class{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new es(this,"async_queue_retry"),this.fu=()=>{let i=$i();i&&ue("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;let n=$i();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;let n=$i();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});let n=new it;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}wu(){return w(this,null,function*(){if(this.Iu.length!==0){try{yield this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!lf(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}})}yu(e){let n=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;let o=function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),p}(i);throw Ec("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=n,n}enqueueAfterDelay(e,n,i){this.pu(),this.mu.indexOf(e)>-1&&(n=0);let o=ts.createAndSchedule(this,e,n,i,c=>this.Su(c));return this.du.push(o),o}pu(){this.Au&&ee()}verifyOperationInProgress(){}bu(){return w(this,null,function*(){let e;do e=this.gu,yield e;while(e!==this.gu)})}Du(e){for(let n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let n=this.du.indexOf(e);this.du.splice(n,1)}};var ns=class extends Xn{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Zn,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Zn(e),this._firestoreClient=void 0,yield e}})}};function Ac(r,e){let n=typeof r=="object"?r:lt(),i=typeof r=="string"?r:e||"(default)",o=jt(n,"firestore").getImmediate({identifier:i});if(!o._initialized){let c=qo("firestore");c&&Tc(o,...c)}return o}var hg=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(o){en=o})(Me),Le(new oe("firestore",(i,{instanceIdentifier:o,options:c})=>{let l=i.getProvider("app").getImmediate(),p=new ns(new Gi(i.getProvider("auth-internal")),new Qi(i.getProvider("app-check-internal")),function(T,b){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new j(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zi(T.options.projectId,b)}(l,o),l);return c=Object.assign({useFetchStreams:n},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),U(gc,"4.7.5",e),U(gc,"4.7.5","esm2017")})();var tn=class{constructor(e){return e}},bc="firestore",is=class{constructor(){return zt(bc)}};var ss=new ke("angularfire2.firestore-instances");function bf(r,e){let n=Pn(bc,r,e);return n&&new tn(n)}function Sf(r){return(e,n)=>{let i=e.runOutsideAngular(()=>r(n));return new tn(i)}}var Rf={provide:is,deps:[[new ie,ss]]},Pf={provide:tn,useFactory:bf,deps:[[new ie,ss],we]};function Sc(r,...e){return U("angularfire",Je.full,"fst"),Ne([Pf,Rf,{provide:ss,useFactory:Sf(r),multi:!0,deps:[se,le,Ye,Xe,[new ie,Xt],[new ie,ht],...e]}])}var Rc=dt(Ac,!0);var Pc={providers:[Eo({eventCoalescing:!0}),Mo(),Co(Vo),Ao(),Oo(),da(()=>fa({projectId:"cdc-certificaciones",appId:"1:871673640625:web:44a9e4c59ee38a22f69490",storageBucket:"cdc-certificaciones.firebasestorage.app",apiKey:"AIzaSyBVQILmh6rvtHPAEtQSW4BgtT4g3hporrc",authDomain:"cdc-certificaciones.firebaseapp.com",messagingSenderId:"871673640625"})),rc(()=>ic()),Sc(()=>Rc())]};var er=class r{title="cdc-certificados";static \u0275fac=function(n){return new(n||r)};static \u0275cmp=_o({type:r,selectors:[["app-root"]],decls:2,vars:0,consts:[["position","top-right","richColors",""]],template:function(n,i){n&1&&yo(0,"router-outlet")(1,"ngx-sonner-toaster",0)},dependencies:[Ro,ko,No],encapsulation:2})};So(er,Pc).catch(r=>console.error(r));
