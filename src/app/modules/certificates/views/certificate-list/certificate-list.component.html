<div class="page-container">
  <div class="list-container">
    <div class="header-actions">
      <h2>Certificados</h2>
      <div class="action-buttons">
        <a mat-flat-button color="primary" routerLink="/administration/new">
          <mat-icon>add</mat-icon>
          <span>Nuevo Certificado</span>
        </a>
      </div>
    </div>

    @if (loading()) {
      <div class="loading-container">
        <div class="progress-bar"></div>
        <div class="loading-text">Cargando certificados...</div>
      </div>
    }

    @if (error()) {
      <div class="error-content">
        <p class="error-message">{{ error() }}</p>
        <button mat-flat-button color="primary" (click)="reloadCertificates()">
          <mat-icon>refresh</mat-icon>
          Reintentar
        </button>
      </div>
    }

    @if (!loading() && !error()) {
      <div class="table-container">
        <app-table
          [data]="certificates()"
          (deleteRequest)="onDeleteCertificate($event)"
          (editRequest)="onEditCertificate($event)"
          (viewRequest)="onViewCertificate($event)"
        />
      </div>
    }
  </div>
</div>
